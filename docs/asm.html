<!DOCTYPE html>
<html id="html-tag" lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script>
   const $htmlTag = document.querySelector("#html-tag")
   const urlParams = new URL(window.location.toLocaleString()).searchParams;
   const lvar= urlParams.get('lang');
   switch(lvar) {
     case "hu":
       $htmlTag.lang = "hu"
       $htmlTag.classList.add("hungarianLang")
       break
     default:
       $htmlTag.classList.add("englishLang")
       break
   }
  </script>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="p12.css">
    <title>p1516/p2223 assembler: p2as</title>
  </head>

  <body>

    <p>
      <a href="index.html">Index</a>
      |
    <a href="devenv.html"><span lang="hu">Fejlesztés</span>
      <span lang="en">Development</span></a>
    |
    <a href="p2223.html">CPU</a>
    |
    <a href="computer_v2.html"><span lang="hu">Számítógép</span>
      <span lang="en">Computer</span></a>
    |
    <a href="asm.html">Assembler</a>
    |
    <a href="pmon.html">Monitor</a>
    |
    <a href="lib.html"><span lang="hu">Függvények</span>
      <span lang="en">Library</span></a>
    </p>

    <hr>
    
    <p>
      <span lang="hu">Direktívák:</span>
      <span lang="en">Drectives:</span>
      <a href="#dir_cpu">CPU</a>
      |
      <a href="#dir_org">ORG</a>
      |
      <a href="#dir_equ">EQU</a>
      |
      <a href="#dir_ds">DS</a>
      |
      <a href="#dir_dx">DB,DW,DD</a>
      |
      <a href="#dir_dp">DP</a>
      |
      <a href="#dir_seg">SEG</a>
      |
      <a href="#dir_ends">ENDS</a>
      |
      <a href="#dir_global">GLOBAL</a>
      |
      <a href="#dir_include">.INCLUDE</a>
    </p>

    <p>
      <span lang="hu">Melléklet:</span>
      <span lang="en">Appendix:</span>
      <a href="#cond_p1516"><span lang="hu">Feltételek#1</span><span lang="en">Conditions#1</span></a>
      |
      <a href="#cond_p2223"><span lang="hu">Feltételek#2</span><span lang="en">Conditions#2</span></a>
      |
      <a href="#insts_p1516"><span lang="hu">Utasítások#1</span><span lang="en">Instructions#1</span></a>
      |
      <a href="#insts_p2223"><span lang="hu">Utasítások#2</span><span lang="en">Instructions#2</span></a>
      |
    </p>
    
    <hr>
    
    <p>
    <span lang="hu">Lang:</span> <span lang="en">Nyelv:</span>
    <a href="asm.html?lang=hu">HU</a>
    <a href="asm.html?lang=en">EN</a>
    </p>
    
    <h1>P1516/p2223 assembler: p2as</h1>

    <p>
      <span lang="hu">A p2223 CPU-hoz kifejlesztett p2as assembler
      program alkalmas a processzoron futtatható assembly nyelvű
      programok lefordítására és a futtatható gépi kódú program
      létrehozására. Az assembler két menetben fordít és közvetlenül a
      futtatható kódot készíti el. Mivel nem generál átmeneti
      áthelyezhető (object) kódot, így nincs szükség szerkesztő
      (linker) programra.</span>

      <span lang="en">The p2as assembler program developed for the
      p2223 CPU is suitable for compiling assembly language programs
      that can be run on the processor and for creating executable
      machine code programs. The assembler compiles in two passes and
      directly creates the executable code. Since it does not generate
      temporary relocatable (object) code, no editor (linker) program
      is required.</span>
    </p>

    <p>
      <span lang="hu">Az assembler egyaránt képes
      a <a href="p1516.html">CPU 1-es verziójára (p1516)</a>, vagy
      a <a href="p2223.html">2-es verziójára (p2223)</a> készült
      programot lefordítani, a forrásban használható feltételek,
      utasítások a választott processzortól (assembly nyelv)
      függenek. A processzor kiválasztására szolgáló direktívát a
      forrás fájl elején kell elhelyezni. Ha nem alkalmazzuk, akkor a
      fordító alapértelmezés szerint a p1516 nyelvet használja.</span>

      <span lang="en">The assembler can compile a program for
      either <a href="p1516.html">CPU version 1 (p1516)</a>
      or <a href="p2223.html">CPU version 2 (p2223)</a>, the
      conditions and instructions that can be used in the source
      depend on the chosen processor (assembly language). The
      directive for selecting the processor must be placed at the
      beginning of the source file. If not used, the compiler will use
      the p1516 language by default.</span>
    </p>

    <p>
      <span lang="hu">A program parancssorban futtatható, a következő
      módon:</span>

      <span lang="en">The program can be run from the command line, as
      follows:</span>
    </p>

    <p>
      <span lang="hu"><samp>php p2as.php [-o kimenet] [-l] [-c] [-k] forrás_file...</samp></span>

      <span lang="en"><samp>php p2as.php [-o output] [-l] [-c] [-k] source_file...</samp></span>
    </p>


    <p>
      <span lang="hu">Az <a name="opt_o"><b>-o</b></a> kapcsolóval
      megadható a kimeneti fájl neve. A generált kimeneti fájl neve
      alapértelmezés szerint az elsőként megadott assembly forrás fájl
      nevével egyezik (a kiterjesztés
      <tt>.p2h</tt>-ra cserélésével), vagy megadható a <b>-o</b>
      kapcsoló paramétereként.</span>

      <span lang="en">The <a name="opt_o"><b>-o</b></a> switch can be
      used to specify the name of the output file. The name of the
      generated output file by default matches the name of the first
      assembly source file specified (with the extension replaced
      with <tt>.p2h</tt>), or can be specified as a parameter to
      the <b>-o</b> switch.</span>
    </p>

    <p>
      <span lang="hu">A <a name="opt_l"><b>-l</b></a> kapcsolóval
      (list file creation) kérhetjük, hogy a program készítsen lista
      fájlt, amely a lefordított kódról tartalmaz részletes
      információkat. A fájl neve az első assembly forrás fájl nevével
      egyező lesz, <tt>.lst</tt> kiterjesztéssel.</span>

      <span lang="en">With the <a name="opt_l"><b>-l</b></a> switch
      (list file creation), we can ask the program to create a list
      file that contains detailed information about the compiled
      code. The file name will be the same as the name of the first
      assembly source file with the <tt>.lst</tt> extension.</span>
    </p>

    <p>
      <span lang="hu">A <a name="opt_c"><b>-c</b></a> kapcsoló
      (compile only) használata esetén a fordító nem ad hibajelzést ha
      olyan szimbólumot használunk, amely nincs definiálva. Az ilyen
      módon lefordított kimeneti fájl nem alkalmas a program
      futtatására, mert az még félkész. Ez megfelel az egyéb fejlesztő
      rendszerekben használatos un. object fájl típusnak. Ezek a
      fájlok további fordításokban forrás fájlként adhatók meg, a
      tartalmuk bekerül a lefordított programba. A kimeneti fájlt
      ebben az esetben ajánlott <tt>.p2o</tt> kiterjesztéssel
      ellátni. Több forrás, vagy object fájl -c kapcsolóval való
      lefordításával könyvtár fájlt készíthetünk, ezeket a fájlokat
      javasolt <tt>.p2l</tt> kiterjesztéssel elnevezni. A -c kapcsoló
      használata bekapcsolja a <a href="#opt_k">-k</a> kapcsoló
      hatását, így nem szükséges használni.</span>

      <span lang="en">When using the <a name="opt_c"><b>-c</b></a>
      switch (compile only), the compiler will not give an error if a
      symbol is used that is not defined. The output file compiled in
      this way is not suitable for running the program, because it is
      still half-finished. This corresponds to the so-called object
      file type used in other development systems. These files can be
      specified as source files in further compilations, and their
      contents will be included in the compiled program. In this case,
      it is recommended to give the output file the <tt>.p2o</tt>
      extension. By compiling several source or object files with the
      -c switch we can create a library file, and it is recommended to
      name these files with the <tt>.p2l</tt> extension. Using the -c
      switch activates the effect of the <a href="#opt_k">-k</a>
      switch, so it is not necessary to use it.</span>
    </p>

    <p>
      <span lang="hu">A <a name="opt_k"><b>-k</b></a> kapcsoló (keep
      segments) használata esetén a fordító nem távolítja el azoknak a
      szegmenseknek a tartalmát, amelyekre nincsenek hivatkozások, így
      minden szegmens tartalma bekerül a kimeneti fájlba. Ennek a
      kapcsolónak csak akkor van hatása, ha a <a href="#opt_c">-c</a>
      kapcsolót nem használtuk.</span>

      <span lang="en">When using the <a name="opt_k"><b>-k</b></a>
      switch (keep segments), the compiler does not remove the
      contents of segments that are not referenced, so the contents of
      all segments are included in the output file. This switch only
      has an effect if the <a href="#opt_c">-c</a> switch was not
      used.</span>
    </p>

    <p>
      <span lang="hu">A program további paraméterei az assembly forrás
      fájlok, illetve object, vagy könyvtár fájlok nevei lehetnek,
      ezekből legalább egyet kötelező megadni. A megadott fájlok
      tartalmát a program összefűzi, és egy programként fordítja
      le. Ezért, ha a forrás több fájlban szétbontva található, azonos
      globális címkék nem fordulhatnak elő többször a
      fájlokban.</span>

      <span lang="en">Additional program parameters can be the names
      of assembly source files, object or library files, of which at
      least one must be specified. The contents of the specified files
      are concatenated by the program and compiled as a single
      program. Therefore, if the source is split into multiple files,
      the same global symbols cannot occur more than once in the
      files.</span>
    </p>


    <h2>
      <span lang="hu">Assembly nyelv</span>
      <span lang="en">Assembly language</span>
    </h2>

    <p>
      <span lang="hu">A forrás fájlok más assembler-eknél megszokott
      szintaxisúak lehetnek. Az utasításokat egy sorba írva kell a
      fájban elhelyezni, a sorok a következő mezőket
      tartalmazhatják:</span>

      <span lang="en">Source files can have the syntax common to other
      assemblers. The instructions should be written on a single line
      in the file, and the lines may contain the following
      fields:</span>
    </p>

    <p>
      <span lang="hu"><samp>[címke:[:]] [feltétel] utasítás paraméterek [;megjegyzés]</samp></span>

      <span lang="en"><samp>[label:[:]] [condition] instruction parameters [;comment]</samp></span>
    </p>

    <p>
      <span lang="hu">A <tt>címke:</tt> (a szó végén lévő kettőspont
      jelöli), egy névvel (label) látja el azt a memória helyet,
      amelyre az utasítás kódszava kerül. Ugrásoknál és szubrutin
      hívásoknál használható a cím megadására. A címke a sorban
      egyedül is állhat, ekkor a forrásban ezután következő első
      utasítás helyét fogja jelölni.</span>

      <span lang="en">The <tt>label:</tt> (denoted by a colon at the
      end of the word) gives a name (label) to the memory location
      where the instruction's codeword is located. It can be used to
      specify the address for jumps and subroutine calls. The label
      can also stand alone in the line, in which case it will indicate
      the location of the next instruction in the source.</span>
    </p>

    <p>
      <span lang="hu">Ha a címke neve után egynél több kettőspontot
      teszünk, akkor a címke globális lesz, akkor is, ha egy
      szegmensen belül hoztuk létre. Az így létrehozott szimbólumokat
      nem kell a <a href="#dir_global"><tt>.global</tt></a>
      direktívával exportálni.</span>

      <span lang="en">If you put more than one colon after the label
      name, the symbol will be global, even if it was created within a
      segment. Symbols created in this way do not need to be exported
      with the <a href="#dir_global"><tt>.global</tt></a>
      directive.</span>
    </p>

    <p>
      <span lang="hu">Az utasítások feltétellel is elláthatók, ha
      valódi, CPU utasításokról van szó. Ha a feltételt nem adjuk meg,
      akkor AL (always) feltételt használja a program, amely a
      feltétel nélküli végrehajtást jelenti. Ugyanazt a feltételt több
      névvel is használhatjuk, amivel a program olvashatósága
      növelhető. A használható elnevezések a fordításhoz választott
      processzor típustól függnek, részletes felsorolásukat
      a <a href="#appendix">melléklet</a> tartalmazza.</span>

      <span lang="en">Instructions can also be provided with
      conditions, if they are real, CPU instructions. If the condition
      is not specified, then the program uses the AL (always)
      condition, which means unconditional execution. The same
      condition can be used with several names, which can increase the
      readability of the program. The names that can be used depend on
      the processor type chosen for compilation, a detailed list of
      them is included in the <a href="#appendix">appendix</a>.</span>
    </p>

    <p>
      <span lang="hu">Az utasítás lehet konkrét CPU utasítás (a
      választott processzor típustól függően), illetve a fordítónak
      szóló ún. <i>pszeudó utasítás</i>, <i>direktíva</i>.</span>

      <span lang="en">The instruction can be a specific CPU
      instruction (depending on the chosen processor type), or a
      so-called <i>pseudo instruction</i>, <i>directive</i> for the
      compiler.</span>
    </p>

    <p>
      <span lang="hu">A paraméterek az utasítástól függenek, ha több
      paramétert adunk meg, akkor azokat vesszővel kell elválasztani
      egymástól. Regiszterek megadásánál az R betűt és a regiszter
      sorszámát használjuk, pl. R10. Adatok esetében használhatunk
      címkeként létrehozott szimbólumokat, vagy konstansokat. A
      konstansoknak számjeggyel kell kezdődniük. A 0-val kezdődő
      konstansokat a fordító 8-as számrendszerűnek tekinti, a 0b-vel
      kezdődőeket kettes számrendszerűnek (bináris), míg a 0x-el
      kezdődőeket 16-osnak (hexadecimális). ASCII kódok megadására
      használhatjuk a <tt>’b’</tt> formát (az ASCII kód betűje
      egyszeres idézőjelek között). Ilyen esetben azonban ún. escape
      szekvenciát, illetve szóközt nem használhatunk! A szimbólumok
      nevében a kis- és nagybetűk különbözőnek számítanak.</span>

      <span lang="en">The parameters depend on the instruction, if we
      specify more parameters, they must be separated from each other
      by a comma. When specifying registers, we use the letter R and
      the register number, e.g. R10. In the case of data, we can use
      symbols or constants created as labels.  Constants must start
      with a digit. The compiler considers constants starting with 0
      as being in the 8th number system, those starting with 0b as
      being in the binary number system (binary), while those starting
      with 0x as being in the 16th (hexadecimal). To specify ASCII
      codes, we can use the <tt>’b’</tt> form (the letter of the ASCII
      code between single quotes). However, in such a case, we cannot
      use so-called escape sequences or space! In the names of
      symbols lowercase and uppercase letters are considered
      different.</span>
    </p>


    <h2>
      <span lang="hu">Assembler direktívák</span>
      <span lang="en">Assembler directives</span>
    </h2>

    <p>
      <span lang="hu">Bizonyos utasítások nem a processzor
      utasításainak a leírására szolgálnak, nem a fordító működését
      szabályozzák, vagy egyéb eredményük van. A direktívák nevében a
      kis- és nagybetűk azonosnak számítanak. Azok a direktívák
      amelyeknek a neve nem ponttal kezdődik, ponttal kezdődően is
      megadhatók, tehát pl a <tt>CPU</tt> direktíva
      <tt>.CPU</tt> formában is használható.</span>

      <span lang="en">Some statements are not used to describe the
      instructions of the processor, but control the operation of the
      compiler, or have other results, they are called directives. In
      the names of directives, the upper and lowercase letters are
      considered the same. Directives whose names do not start with a
      dot can also be specified starting with a dot, so for example
      the directive <tt>CPU</tt> can also be used in the
      form <tt>.CPU</tt>.</span>
    </p>


    <a name="dir_cpu"><h3 style="font-family:monospace">PROC|CPU P1|P2</h3></a>

    <p>
      <span lang="hu">A használt processzor, és ezáltal az assembly
      nyelv kiválasztására szolgáló direktíva. <tt>P1</tt> paraméter
      esetén a fordító a forrás fájlt <a href="p1516.html">p1516</a>
      processzor assembly nyelveként értelmezi, <tt>P2</tt> esetén
      pedig a <a href="p2223.html">p2223</a> nyelvet használja. Ez a
      beállítás csak a CPU utasításokra vonatkozik, a fordító által
      felismert direktívák azonosak. A direktíva paramétere kis- és
      nagybetűvel is írható.</span>

      <span lang="en">A directive for selecting the processor used,
      and thus the assembly language. In the case of the <tt>P1</tt>
      parameter, the compiler interprets the source file as the
      assembly language of the <a href="p1516.html">p1516</a>
      processor, and in the case of <tt>P2</tt> the compiler uses
      the <a href="p2223.html">p2223</a> language.  This setting only
      applies to CPU instructions, the directives recognized by the
      compiler are the same. The directive parameter can be written in
      both upper and lower case.</span>
    </p>


    <a name="dir_org">
      <span lang="hu">
	<h3 style="font-family:monospace">ORG érték</h3>
      </span>
      <span lang="en">
	<h3 style="font-family:monospace">ORG value</h3>
      </span>
    </a>

    <p>
      <span lang="hu">Az ORG utasítás paramétere egy számérték, ez
      lesz a memória cím számláló értéke. Arra használható, hogy
      valamilyen tartalmat egy adott memória területen helyezzünk
      el.</span>

      <span lang="en">The ORG instruction parameter is a numeric
      value, this will be the counter value of the memory address. It
      can be used to place some content in a specific memory
      area.</span>
    </p>

    <span lang="hu">
<samp>        org     0       ; 0-s címen elhelyezve
        call    rutin
vege:   jmp     vege

        org     50      ; a rutint az 50-es címre tesszük
rutin:
        ldl0    r1,0    ; ....
</samp>
    </span>

        <span lang="en">
<samp>        org     0       ; placed at address 0
        call    routine
end:    jmp     end

        org     50      ; routine placed at 50
routine:
        ldl0    r1,0    ; ....
</samp>
    </span>

	<a name="dir_equ">
	  <span lang="hu">
	    <h3 style="font-family:monospace">szimbólum EQU|=|== érték</h3>
	  </span>
	  <span lang="en">
	    <h3 style="font-family:monospace">symbol EQU|=|== value</h3>
	  </span>
	</a>

    <p>
      <span lang="hu">Ezzel az utasítással (amelyet EQU, vagy =,
	illetve == formában is írhatunk) egy szimbólumnak értéket
	adhatunk.</span>

      <span lang="en">This instruction (which can also be written as
      EQU, or =, or ==) can be used to assign a value to a
      symbol.</span>
    </p>

    <span lang="hu">
<samp>porta   =       0xff00   ; a kimeneti port címe

        ldl     r0,porta ; a cím betöltése
        ldh     r0,porta ; az R0 regiszterbe
</samp>
    </span>

    <span lang="en">
<samp>porta   =       0xff00   ; address of output port

        ldl     r0,porta ; load the address
        ldh     r0,porta ; into R0 register
</samp>
    </span>
    
    <p>
      <span lang="hu">Ha a == jelet használjuk, akkor a szimbólum
      globálisként jön létre, vagyis egyúttal exportálódik a
      szegmensen kívülre, így
      a <a href="#dir_global"><tt>.global</tt></a> direktívát már nem
      kell használni.</span>

      <span lang="en">If we use the == sign, the symbol is created as
      global, meaning it is also exported outside the segment, so
      the <a href="#dir_global"><tt>.global</tt></a> directive no
      longer needs to be used.</span>
    </p>


    <a name="dir_ds">
      <span lang="hu">
	<h3 style="font-family:monospace">DS|.SPACE|.SKIP érték</h3>
      </span>
      <span lang="en">
	<h3 style="font-family:monospace">DS|.SPACE|.SKIP value</h3>
      </span>
    </a>

    <p>
      <span lang="hu">Ez a direktíva hely lefoglalására használható, a
      tartalom megadása nélkül. Paraméterként a hely méretét kell
      megadni. Ha a memóriában le akarunk foglalni valahány rekeszt
      adat tárolására, ezzel a direktívával megadhatjuk, hány szó
      helyre van szükségünk. A direktíva paraméterének 0-nál nagyobb
      pozitív számnak kell lennie.</span>

      <span lang="en">This directive can be used to allocate space,
      without specifying the contents. The size of the space must be
      specified as a parameter. If we want to allocate some space in
      memory to store data, we can use this directive to specify how
      many words of space we need. The parameter of the directive must
      be a positive number greater than 0.</span>
    </p>

    <span lang="hu">
<samp>        org     20      ; ettől a címtő kezdve
adatok: ds      5       ; 5 szó helyet foglalunk le
</samp>
    </span>

    <span lang="en">
<samp>        org     20      ; from this address
data:   ds      5       ; we allocate 5 words
</samp>
    </span>

    <a name="dir_dx">
      <span lang="hu">
	<h3 style="font-family:monospace">DB,DW,DD érték...</h3>
      </span>
      <span lang="en">
	<h3 style="font-family:monospace">DB,DW,DD value...</h3>
      </span>
    </a>

    <p>
      <span lang="hu">Ezekkel a direktívákkal a paraméterként megadott
      értékeket tudjuk elhelyezni a memóriában. A <tt>DB</tt> az érték
      alsó 8 bitjét használja fel, a <tt>DW</tt> 16 bitet, míg
      a <tt>DD</tt> 32 bites adatokat használ. Egy direktívánál több
      paraméter is megadható vesszővel elválasztva, ezek a felsorolás
      sorrendjében kerülnek a memóriába. A paramétereknek konstansnak,
      vagy szimbólumnak kell lenniük. A szimbólumok
      az <a href="#dir_equ"><tt>EQU, =</tt></a> direktívákkal, vagy
      címkeként hozhatók létre.</span>

      <span lang="en">With these directives, we can place the values
      specified as parameters in memory. <tt>DB</tt> uses the lower 8
      bits of the value, <tt>DW</tt> uses 16 bits, while
      <tt>DD</tt> uses 32-bit data. More parameters can be specified
      in a directive, separated by commas, and they are placed in
      memory in the order they are listed. The parameters must be
      constants or symbols. Symbols can be created with the
      directives <a href="#dir_equ"><tt>EQU, =</tt></a> or as
      labels.</span>
    </p>

    <p>
      <span lang="hu">Ezeknél a direktíváknál használhatunk sztring
      konstanst is, amely ”kettős idézőjelek” között megadott
      szöveg. A szövegen belül használhatók a C nyelvben megszokott
      escape szekvenciák is. A fordító a sztring konstansokat mindig
      kiegészíti egy 0 értékű szóval. Ebben az esetben a direktívának
      nem lehet más paramétere.</span>

      <span lang="en">With these directives, we can also use a string
      constant, which is a text enclosed in ”double quotes”. The
      escape sequences common in the C language can also be used
      within the text. The compiler always completes the string
      constants with a word with the value 0. In this case, the
      directive cannot have any other parameters.</span>
    </p>
    
    <span lang="hu">
<samp>start:  ldl0    r1,0
        ...
        org     10
adat1:  db      123              ; 8 bites adat
        db      65,’z’,13        ; ASCII konstans
        dw      0x213            ; 16 bites adat
        dd      -4321            ; negatív számok is megadhatók
        dd      start            ; vagy címkék is
        db      ”Hello World!\n” ; sztring konstans
</samp>
    </span>

    <span lang="en">
<samp>start:  ldl0    r1,0
        ...
        org     10
data1:  db      123              ; 8 bit data
        db      65,’z’,13        ; ASCII constant
        dw      0x213            ; 16 bit data
        dd      -4321            ; data can be negative
        dd      start            ; or a label
        db      ”Hello World!\n” ; string constant
</samp>
    </span>

    <a name="dir_dp">
      <span lang="hu">
	<h3 style="font-family:monospace">DP “sztring”</h3>
      </span>
      <span lang="en">
	<h3 style="font-family:monospace">DP “string”</h3>
      </span>
    </a>

    <p>
      <span lang="hu">Sztring elhelyezése a memóriában, “pakolt”
      formátumban. Négy karakter kódja kerül egy memóriahelyre,
      little-endian sorrendben, tehát az első karakter az alsó helyen
      lévő 8 bites helyre kerül. Az utolsó szó fel nem használt
      bájtjai 0 értékűek lesznek, majd egy 0 értékű szó zárja le a
      sztringet.</span>

      <span lang="en">Place a string in memory, in “packed”
      format. Four character codes are placed in a memory location, in
      little-endian order, so the first character is placed in the
      8-bit location in the lower position. The unused bytes of the
      last word are set to 0, and then a word with value 0 terminates
      the string.</span>
    </p>

<samp>s3:     .dp     "Hello World!\n"
        ...
        6c6c6548 //C 00087 dd        0x6c6c6548     ; "lleH"
        6f57206f //C 00088 dd        0x6f57206f     ; "oW o"
        21646c72 //C 00089 dd        0x21646c72     ; "!dlr"
        0000000a //C 0008a dd        0x0000000a     ; "\012"
        00000000 //C 0008b dd        0
</samp>


<a name="dir_seg">
  <span lang="hu">
    <h3 style="font-family:monospace">SECTION|SEG|SEGMENT név [NOLOAD|ABS]</h3>
  </span>
  <span lang="en">
    <h3 style="font-family:monospace">SECTION|SEG|SEGMENT name [NOLOAD|ABS]</h3>
  </span>
</a>

    <p>
      <span lang="hu">Szegmens kezdetét definiáló direktíva. A
      szegmensek a szimbólumok láthatóságát a szegmensen belülre
      korlátozzák, így az egyes szegmensek ugyanazt a szimbólum nevet
      saját célra használhatják.</span>

      <span lang="en">A directive defining the start of a segment.
      Segments restrict the visibility of symbols to within the
      segment, so that each segment can use the same symbol name for
      its own purpose.</span>
    </p>

    <p>
      <span lang="hu">Az első paraméter a szegmens neve, ami után
      opcionális paraméterek következhetnek. A szegmensen belül
      létrehozott szimbólumok és címkék csak a szegmensen belül
      láthatóak. Ha a szegmensen kívül is használni szeretnénk egy
      szimbólumot, akkor azt
      a <a href="#dir_global"><tt>.global</tt></a> direktívával
      exportálni kell.</span>

      <span lang="en">The first parameter is the name of the segment,
      followed by optional parameters. Symbols and labels created
      within a segment are only visible within the segment. If we want
      to use a symbol outside the segment, it must be exported with
      the <a href="#dir_global"><tt>.global</tt></a> directive.</span>
    </p>

    <p>
      <span lang="hu">A szegmensben újra definiálhatunk globális
      szimbólumokat. Ezekből egy új példány jön létre, így az értékük
      a szegmensen belül más lesz, mint a globális területen.</span>

      <span lang="en">Global symbols can be redefined in the
      segment. A new instance of these will be created, so their value
      within the segment will be different from that in the global
      area.</span>
    </p>


    <a name="dir_ends">
      <h3 style="font-family:monospace">ENDS</h3>
    </a>

    <p>
      <span lang="hu">A szegmens végét jelző direktíva. Ez után a
	program globális területe folytatódik, így a globális
	szimbólumok válnak láthatóvá.</span>

      <span lang="en">A directive that marks the end of a
      segment. After this, the global area of ​​the program continues,
      so that global symbols become visible.</span>
    </p>


    <a name="dir_global">
      <span lang="hu">
	<h3 style="font-family:monospace">GLOBAL|EXPORT név</h3>
      </span>
      <span lang="en">
	<h3 style="font-family:monospace">GLOBAL|EXPORT name</h3>
      </span>
    </a>

    <p>
      <span lang="hu">A szegmensen belül definiált szimbólum globális
      szimbólummá való konvertálását végző direktíva. Paramétere a
      szimbólum neve. Csak egy paraméter adható meg. Ha a szimbólum a
      globális területen már létezik, akkor hibaüzenetet
      kapunk.</span>

      <span lang="en">Directive that converts a symbol defined within
      a segment into a global symbol. Its parameter is the name of the
      symbol. Only one parameter can be specified. If the symbol
      already exists in the global area, an error message will be
      returned.</span>
    </p>


    <a name="dir_include">
      <span name="hu">
	<h3 style="font-family:monospace">.INCLUDE fájlnév</h3>
      </span>
      <span name="en">
	<h3 style="font-family:monospace">.INCLUDE filename</h3>
      </span>
    </a>

    <p>
      <span lang="hu">A paraméterként megadott fájl betöltése és
      fordítása. A fájl nevét nem kell idézőjelbe tenni. A betöltött
      fájl után az aktuális fájl fordítása folytatódik. A fájlt a
      program először abban a könyvtárban keresi, ahol az eredeti
      forrásfájl található. Ha ott nem található, akkor a rendszer
      fájljai között fogja keresni, ez lehet a felhasználó saját
      könyvtárának <code>p12tool/include</code> alkönyvtára, vagy a
      fejlesztőrendszer <code>lib</code> alkönyvtára.</span>

      <span lang="en">Load and compile the file specified as a
      parameter. The file name does not need to be enclosed in
      quotes. After the loaded file, the compilation of the current
      file continues. The program first searches for the file in the
      directory where the original source file is located. If it is
      not found there, it will search among the system files, which
      can be the <code>p12tool/include</code> subdirectory of the
      user's home directory, or the <code>lib</code> subdirectory of
      the development system.</span>
    </p>


    <a name="req"><h3 style="font-family:monospace">REQ reg alias</h3></a>

    <p>
      <span lang="hu">Regiszter alternatív elnevezésének
	létrehozása. Az alternatív név a fordítás hátralévő részében
	használható.</span>

      <span lang="en">Create an alternative name for a register. The
      alternative name can be used in the rest of the
      compilation.</span>
    </p>


    <a name="appendix"><h2>
	<span lang="hu">Mellékletek</span>
	<span lang="hu">Appendices</span>
    </h2></a>

    <a name="cond"><h3>
	<span lang="hu">Feltételek</span>
	<span lang="en">Conditions</span>
    </h3></a>

    <p>
      <span lang="hu">A CPU utasításokban használható feltételek a
      kiválasztott processzor típusától függnek
      (lásd <a href="#dir_cpu">CPU direktíva</a>). Egyes feltételek
      több különféle névvel is használhatók.</span>

      <span lang="en">The conditions that can be used in CPU
      instructions depend on the type of processor selected
      (see <a href="#dir_cpu">CPU directive</a>). Some conditions can
      be used with several different names.</span>
    </p>


    <a name="cond_p1516"><h4>
	<span lang="hu">Feltételek p1516 processzor esetén</span>
	<span lang="en">Conditions for processor p1516</span>
    </h4></a>

    <table border=1 bgcolor="lightgrey">
      <tr><th><span lang="hu">Feltétel</span><span lang="en">Condition</span></th>  <th><span lang="hu">Használható nevek</span><span lang="en">Usable names</span></th></tr>
    
      <tr><td>S==0</td>     <td>S0</td></tr>
      <tr><td>S==1</td>     <td>S1</td></tr>
      <tr><td>C==0</td>     <td>C0</td></tr>
      <tr><td>C==1</td>     <td>C1</td></tr>
      <tr><td>Z==0</td>     <td>Z0, NZ</td></tr>
      <tr><td>Z==1</td>     <td>Z1, Z</td></tr>
      <tr><td>O==0</td>     <td>O0</td></tr>
      <tr><td>O==1</td>     <td>O1</td></tr>
    </table>
    
    
    <a name="cond_p2223"><h4>
	<span lang="hu">Feltételek p2223 processzor esetén</span>
	<span lang="en">Conditions for p2223 processor</span>
    </h4></a>
    
    <table border=1>
      <tr><th><span lang="hu">Feltétel</span><span lang="en">Condition</span></th> <th><span lang="hu">Használható nevek</span><span lang="en">Usable names</span></th></tr>
  
      <tr><td>Z==0</td>                            <td>NE, ZC, Z0, NZ, T</td></tr>
      <tr><td>Z==1</td>                            <td>EQ, ZS, Z1, Z, F</td></tr>
      <tr><td>C==0 (u1&lt;u2)</td>                 <td>CC, LO, C0, NC, ULT</td></tr>
      <tr><td>C==1 (u1&gt;=u2)</td>                <td>CS, HS, C1, C, UGE</td></tr>
      <tr><td>S==0</td>                            <td>PL, SC, S0, NS</td></tr>
      <tr><td>S==1</td>                            <td>MI, SS, S1, S</td></tr>
      <tr><td>O==0</td>                            <td>VC, OC, V0, O0, NV, NO</td></tr>
      <tr><td>O==1</td>                            <td>VS, OS, V1, O1, V, O</td></tr>
      <tr><td>C==1 &amp;&amp; Z==0 (u1&gt;u2)</td> <td>HI, UGT</td></tr>
      <tr><td>C==0 || Z==1 (u1&lt;=u2)</td>        <td>LS, ULE</td></tr>
      <tr><td>S==O (s1&gt;=s2)</td>                <td>GE, SGE</td></tr>
      <tr><td>S!=O (s1&lt;s2)</td>                 <td>LT, SLT</td></tr>
      <tr><td>Z==0 &amp;&amp; S==O (s1&gt;s2)</td> <td>GT, SGT</td></tr>
      <tr><td>Z==1 || S!=O (s1&lt;=s2)</td>        <td>LE, SLE</td></tr>
    </table>
    

    <a name="insts_p1516"><h3>
	<span lang="hu">Processzor utasítások, p1516</span>
	<span lang="hu">Processor instructions, p1516</span>
    </h3></a>

    <p>
      <span lang="hu">Az utasításokat ismertető táblázatban a
	következő rövidítéseket használjuk:</span>

      <span lang="en">In the table describing the instructions, the
      following abbreviations are used:</span>
    </p>

    <ul>
      <li>
	<span lang="hu">Rd A cél regiszter neve (R0..R15)</span>
	<span lang="en">Rd Name of destination register (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Ra Az első operandus, vagy a cím regiszter
	neve (R0..R15)</span>
	<span lang="en">Ra The name of the first operand, or address
	  register (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Rda Regiszter név amelyet a fordító egyaránt
	  Rd és Ra regiszterként használ fel (R0..R15)</span>
	<span lang="en">Rda Register name that the compiler uses as
        both Rd and Ra registers (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Rb A második operandus regiszter neve
	(R0..R15)</span>
	<span lang="en">Rb Name of the second operand register
	  (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">#16 Konstans, amelynek az alsó 16 bitjét
	használja a fordító</span>
	<span lang="en">#16 Constant whose lower 16 bits are used by
	  the compiler</span> </li>
      <li>
	<span lang="hu">#27 Konstans, amelynek az alsó 27 bitjét
	használja a fordító</span>
	<span lang="en">#27 Constant, the lower 27 bits of which are
	used by the compiler</span>
      </li>
      <li>
	<span lang="hu">#H16 Konstans (32 bites), amelynek a felső 16
	  bitjét használja fel a fordító</span>
	<span lang="en">#H16 Constant (32-bit), the upper 16
	  bits of which are used by the compiler</span>
      </li>
    </ul>

    <p>
      <span lang="hu">A konstansokban a # jelet nem kell használni,
      elég a számértéket, vagy a szimbólum nevét megadni. A
      regiszterek közül az R13 helyett használhatjuk az SP, az R14
      helyett az LR, míg az R15 helyett a PC elnevezéseket is.</span>

      <span lang="en">You don't need to use the # sign in constants,
      just specify the numerical value or the name of the symbol.
      Among the registers, you can use SP instead of R13, LR instead
      of R14, and PC instead of R15.</span>
    </p>

    <table border=1 bgcolor="lightgrey">
      <tr>
	<th width="30%">Mnemonic</th>
	<th width="30%">
	  <span lang="hu">Paraméterezési módok</span>
	  <span lang="en">Parameterization methods</span>
	</th>
	<th width="30%">
	  <span lang="hu">Utasítás</span>
	  <span lang="en">Instruction</span>
	</th>
      </tr>

      <tr valign="top">
	<td>NOP</td>
	<td>Rd,Ra,Rb<br />Rda,Rb<br />Rd<br />-</td>
	<td>No operation</td>
      </tr>
      <tr valign="top">
	<td>LD</td>
	<td>Rd,Ra</td>
	<td>Load from memory</td>
      </tr>
      <tr valign="top">
	<td>ST</td>
	<td>Rd,Ra</td>
	<td>Store to memory</td>
      </tr>
      <tr valign="top">
	<td>MOV</td>
	<td>Rd,Ra</td>
	<td>Move register to register</td>
      </tr>
      <tr valign="top">
	<td>LDL0</td>
	<td>Rd,#16</td>
	<td>Load zex(immediate) to low</td>
      </tr>
      <tr valign="top">
	<td>LDL</td>
	<td>Rd,#16</td>
	<td>Load low of immediate to low</td>
      </tr>
      <tr valign="top">
	<td>LDH</td>
	<td>Rd,#H16</td>
	<td>Load high of immediate to high</td>
      </tr>
      <tr valign="top">
	<td>CALL</td>
	<td>#27</td>
	<td>Call subroutine</td>
      </tr>
      <tr valign="top">
	<td>ADD</td>
	<td>Rd,Ra,Rb<br />Rda,Rb</td>
	<td>Add without carry</td>
      </tr>
      <tr valign="top">
	<td>ADC</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Add with carry</td>
      </tr>
      <tr valign="top">
	<td>SUB</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Subtract without borrow</td>
      </tr>
      <tr valign="top">
	<td>SBB</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Subtract with borrow</td>
      </tr>
      <tr valign="top">
	<td>INC</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Increment</td>
      </tr>
      <tr valign="top">
	<td>DEC</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Decrement</td>
      </tr>
      <tr valign="top">
	<td>AND</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Bitwise AND</td>
      </tr>
      <tr valign="top">
	<td>OR</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Bitwise OR</td>
      </tr>
      <tr valign="top">
	<td>XOR</td>
	<td>Ra,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Bitwise XOR</td>
      </tr>
      <tr valign="top">
	<td>SHL</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Shift left</td>
      </tr>
      <tr valign="top">
	<td>SHR</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Shift right</td>
      </tr>
      <tr valign="top">
	<td>ROL</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Rotate left</td>
      </tr>
      <tr valign="top">
	<td>ROR</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Rotate right</td>
      </tr>
      <tr valign="top">
	<td>MUL</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Multiply</td>
      </tr>
      <tr valign="top">
	<td>CMP</td>
	<td>Rd,Ra,Rb<br />
	  Rda,Rb</td>
	<td>Compare</td>
      </tr>
      <tr valign="top">
	<td>SHA</td>
	<td>Rd,Ra<br />
	  Rda</td>
	<td>Shift arithmetic right</td>
      </tr>
      <tr valign="top">
	<td>SETC</td>
	<td>-</td>
	<td>Set carry</td>
      </tr>
      <tr valign="top">
	<td>CLRC</td>
	<td>-</td>
	<td>Clear carry</td>
      </tr>
    </table>
    

    <p>
      <span lang="hu">A következő makrók egyes utasítások alternatív
	elnevezéseiként használhatók.</span>

      <span lang="en">The following macros can be used as alternative
      names for some instructions.</span>
    </p>

    <table border=1 bgcolor="lightgrey">
      <thead>
	<tr valign="top">
	  <th width="30%">
	    <span lang="hu">Makró név</span>
	    <span lang="hu">Macro</span>
	  </th>
	  <th width="30%">
	    <span lang="hu">Paraméterezési módok</span>
	    <span lang="en">Parameterization methods</span>
	  </th>
	  <th width="30%">
	    <span lang="hu">Jelentése</span>
	    <span lang="en">Meaning</span>
	  </th>
	</tr>
	<tr valign="top">
	  <td>JMP</td>
	  <td>#16</td>
	  <td>LDL0 R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JZ</td>
	  <td>#16</td>
	  <td>Z LDL0 R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JNZ</td>
	  <td>#16</td>
	  <td>NZ LDL0 R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>RET</td>
	  <td>-</td>
	  <td>MOV R15,R14</td>
	</tr>
	<tr valign="top">
	  <td>PUSH</td>
	  <td>Rd</td>
	  <td>ST Rd,R13</td>
	</tr>
	<tr valign="top">
	  <td>POP</td>
	  <td>Rd</td>
	  <td>LD Rd,R13</td>
	</tr>
      </thead>
    </table>


    <a name="insts_p2223"><h3>
	<span lang="hu">Processzor utasítások, p2223</span>
	<span lang="en">Processor instructions, p2223</span>
    </h3></a>

    <p>
      <span lang="hu">Az utasításokat ismertető táblázatban a
	következő rövidítéseket használjuk:</span>

      <span lang="en">In the table describing the instructions, the
      following abbreviations are used:</span>
    </p>

    <ul>
      <li>
	<span lang="hu">Rd A cél regiszter, egyúttal az első operandus
	  regiszterének neve (R0..R15)</span>
	<span lang="en">Rd The destination register, also the name of
        the register of the first operand (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Ra A cím regiszter neve (R0..R15)</span>
	<span lang="en">Ra Address register name (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Rn Regiszter név amelyet a fordító nem használ
	fel, figyelmen kívül hagy. Használata megkönnyíti a p1516
	processzorra írt programok portolását</span>
	<span lang="en">Rn Register name that is not used by the
	compiler and is ignored. Its use makes it easier to port
	programs written for the p1516 processor</span>
      </li>
      <li>
	<span lang="hu">Rb A második oparandus regisztere
	(R0..R15)</span>
	<span lang="en">Rb Second operand register (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Ri Az index regiszter neve (R0..R15)</span>
	<span lang="en">Ri The name of the index register
	  (R0..R15)</span>
      </li>
      <li>
	<span lang="hu">Rs Speciális regiszter neve (R0..R15, vagy
	Sxxx nevek)</span>
	<span lang="en">Rs Special register name (R0..R15, or
	  Sxxx names)</span>
      </li>
      <li>
	<span lang="hu">#16 Konstans, amelynek az alsó 16 bitjét
	használja a fordító</span>
	<span lang="en">#16 Constant whose lower 16 bits are used by
	  the compiler</span>
      </li>
      <li>
	<span lang="hu">#20 Konstans, amelynek az alsó 20 bitjét
	használja a fordító</span>
	<span lang="en">#20 Constant, the lower 20 bits of which are
	used by the compiler</span>
      </li>
      <li>
	<span lang="hu">#H16 Konstans (32 bites), amelynek a felső 16
	  bitjét használja fel a fordító</span>
	<span lang="en">#H16 Constant (32-bit), the upper 16
	  bits of which are used by the compiler</span>
      </li>
      <li>
	<span lang="hu">#24 Konstans, amelynek az alsó 24 bitjét
	használja a fordító</span>
	<span lang="en">#24 Constant, the lower 24 bits of which are
	used by the compiler</span>
      </li>
    </ul>

    <p>
      <span lang="hu">A konstansokban a # jelet nem kell használni,
      elég a számértéket, vagy a szimbólum nevét megadni. A
      regiszterek közül az R13 helyett használhatjuk az SP, az R14
      helyett az LR, míg az R15 helyett a PC elnevezéseket is. A
      speciális regiszterek azonosítására a következő elnevezések
      használhatók:</span>

      <span lang="en">The # sign does not need to be used in
      constants, it is enough to specify the numerical value or the
      name of the symbol.  Among the registers, we can use SP instead
      of R13, LR instead of R14, and PC instead of R15.  The following
      names can be used to identify special registers:</span>
    </p>

    <ul>
      <li>SFR[0]:
      SFLAG, <span lang="hu">vagy</span><span lang="en">or</span>
      R0</li>
      <li>SFR[1]:
      SVER, <span lang="hu">vagy</span><span lang="en">or</span>
      R1</li>
      <li>SFR[2]:
      SFEAT1, <span lang="hu">vagy</span><span lang="en">or</span>
      R2</li>
      <li>SFR[3]:
      SFEAT2, <span lang="hu">vagy</span><span lang="en">or</span>
      R3</li>
      <li>SFR[4..15]: R4..R15</li>
    </ul>

    <table border=1>
      <thead>
	<tr valign="top">
	  <th width="30%">
	    Mnemonic
	  </th>
	  <th width="30%">
	    <span lang="hu">Paraméterezési módok</span>
	    <span lang="en">Parameterization methods</span>
	  </th>
	  <th width="30%">
	    <span lang="hu">Utasítás</span>
	    <span lang="en">Instruction</span>
	  </th>
	</tr>
	<tr valign="top">
	  <td>MOV</td>
	  <td>Rd,Rb</td>
	  <td>Move register to register</td>
	</tr>
	<tr valign="top">
	  <td>SED</td>
	  <td>Rd,Rb</td>
	  <td>Sex to double</td>
	</tr>
	<tr valign="top">
	  <td>MVL</td>
	  <td>Rd,#16</td>
	  <td>Load low of immediate to low</td>
	</tr>
	<tr valign="top">
	  <td>MVH</td>
	  <td>Rd,#H16</td>
	  <td>Load high of immediate to high</td>
	</tr>
	<tr valign="top">
	  <td>MVZL</td>
	  <td>Rd,#16</td>
	  <td>Load zex(immediate)</td>
	</tr>
	<tr valign="top">
	  <td>MVS</td>
	  <td>Rd,#16</td>
	  <td>Load sex(immediate)</td>
	</tr>
	<tr valign="top">
	  <td>GETB</td>
	  <td>Rd,Rb,#2<br />
	    Rd,Rb,Ri</td>
	  <td>Get byte</td>
	</tr>
	<tr valign="top">
	  <td>GETBS</td>
	  <td>Rd,Rb,#2<br />
	    Rd,Rb,Ri</td>
	  <td>Get sign extended byte</td>
	</tr>
	<tr valign="top">
	  <td>GETBZ</td>
	  <td>Rd,Rb,#2<br />
	    Rd,Rb,Ri</td>
	  <td>Get zero extended byte</td>
	</tr>
	<tr valign="top">
	  <td>PUTB</td>
	  <td>Rd,Rb,#2<br />
	    Rd,Rb,Ri</td>
	  <td>Put byte</td>
	</tr>
	<tr valign="top">
	  <td>RDS</td>
	  <td>Rd,Rs</td>
	  <td>Read special register</td>
	</tr>
	<tr valign="top">
	  <td>WRS</td>
	  <td>Rd,Rs</td>
	  <td>Write special register</td>
	</tr>
	<tr valign="top">
	  <td>ADD</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Add without carry</td>
	</tr>
	<tr valign="top">
	  <td>ADC</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Add with carry</td>
	</tr>
	<tr valign="top">
	  <td>SUB</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Subtract without borrow</td>
	</tr>
	<tr valign="top">
	  <td>SBB</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Subtract with borrow</td>
	</tr>
	<tr valign="top">
	  <td>CMP</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Compare</td>
	</tr>
	<tr valign="top">
	  <td>MUL</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Multiply</td>
	</tr>
	<tr valign="top">
	  <td>PLUS</td>
	  <td>Rd,Rb<br />
	    Rd,#16</td>
	  <td>Add without carry (do not alter flags)</td>
	</tr>
	<tr valign="top">
	  <td>BTST</td>
	  <td>Rd,Rb<br />
	    Rd,#16</td>
	  <td>Bit test (AND) with write-back</td>
	</tr>
	<tr valign="top">
	  <td>TEST</td>
	  <td>Rd,Rb<br />
	    Rd,#16</td>
	  <td>Bit test (AND) without write-back</td>
	</tr>
	<tr valign="top">
	  <td>OR</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Bitwise OR</td>
	</tr>
	<tr valign="top">
	  <td>XOR</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Bitwise XOR</td>
	</tr>
	<tr valign="top">
	  <td>AND</td>
	  <td>Rd,Rn,Rb<br />
	    Rd,Rb<br />
	    Rd,#16</td>
	  <td>Bitwise AND</td>
	</tr>
	<tr valign="top">
	  <td>ZEB</td>
	  <td>Rd</td>
	  <td>Zero extend byte</td>
	</tr>
	<tr valign="top">
	  <td>ZEW</td>
	  <td>Rd</td>
	  <td>Zero extend word</td>
	</tr>
	<tr valign="top">
	  <td>SEB</td>
	  <td>Rd</td>
	  <td>Sign extend byte</td>
	</tr>
	<tr valign="top">
	  <td>SEW</td>
	  <td>Rd</td>
	  <td>Sign extend word</td>
	</tr>
	<tr valign="top">
	  <td>NOT</td>
	  <td>Rd</td>
	  <td>Bitwise NOT</td>
	</tr>
	<tr valign="top">
	  <td>NEG</td>
	  <td>Rd</td>
	  <td>Sign change</td>
	</tr>
	<tr valign="top">
	  <td>ROR</td>
	  <td>Rd,Rn<br />
	    Rd</td>
	  <td>Rotate right</td>
	</tr>
	<tr valign="top">
	  <td>ROL</td>
	  <td>Rd,Rn<br />
	    Rd</td>
	  <td>Rotate left</td>
	</tr>
	<tr valign="top">
	  <td>SHL</td>
	  <td>Rd,Rn<br />
	    Rd</td>
	  <td>Shift left</td>
	</tr>
	<tr valign="top">
	  <td>SHR</td>
	  <td>Rd,Rn<br />
	    Rd</td>
	  <td>Shift right</td>
	</tr>
	<tr valign="top">
	  <td>SHA</td>
	  <td>Rd,Rn<br />
	    Rd</td>
	  <td>Shift arithmetic right</td>
	</tr>
	<tr valign="top">
	  <td>SZ</td>
	  <td>Rd</td>
	  <td>Sign, zero check</td>
	</tr>
	<tr valign="top">
	  <td>SEC</td>
	  <td>-</td>
	  <td>Set carry</td>
	</tr>
	<tr valign="top">
	  <td>CLC</td>
	  <td>-</td>
	  <td>Clear carry</td>
	</tr>
	<tr valign="top">
	  <td>GETF</td>
	  <td>Rd</td>
	  <td>Get flags</td>
	</tr>
	<tr valign="top">
	  <td>SETF</td>
	  <td>Rd</td>
	  <td>Set flags</td>
	</tr>
	<tr valign="top">
	  <td>CALL</td>
	  <td>Rd,#20<br />
	    #24</td>
	  <td>Call subroutine</td>
	</tr>
	<tr valign="top">
	  <td>CES</td>
	  <td>Rd,#20<br />
	    #24</td>
	  <td>Call subroutine with embedded string</td>
	</tr>
	<tr valign="top">
	  <td>ST</td>
	  <td>Rd,Ra,Ri<br />
	    Rd,Ra+,Ri<br />
	    Rd,Ra-,Ri<br />
	    Rd,+Ra,Ri<br />
	    Rd,-Ra,Ri<br />
	    Rd,Ra,#16<br />
	    Rd,*Ra,#16<br />
	    Rd,Ra<br />
	    Rd,#16<br />
	    #16,Rd</td>
	  <td>Store to memory</td>
	</tr>
	<tr valign="top">
	  <td>LD</td>
	  <td>Rd,Ra,Ri<br />
	    Rd,Ra+,Ri<br />
	    Rd,Ra-,Ri<br />
	    Rd,+Ra,Ri<br />
	    Rd,-Ra,Ri<br />
	    Rd,Ra,#16<br />
	    Rd,*Ra,#16<br />
	    Rd,Ra<br />
	    Rd,#16<br />
	    #16,Rd</td>
	  <td>Load from memory</td>
	</tr>
      </thead>
    </table>


    <p>
      <span lang="hu">A következő makrók egyes utasítások alternatív
	elnevezéseiként használhatók.</span>

      <span lang="en">The following macros can be used as alternative
      names for some instructions.</span>
    </p>

    <table border=1>
      <thead>
	<tr valign="top">
	  <th width="30%">
	    <span lang="hu">Makró név</span>
	    <span lang="en">Macro</span>
	  </th>
	  <th width="30%">
	    <span lang="hu">Paraméterezési módok</span>
	    <span lang="en">Parameterization methods</span>
	  </th>
	  <th width="30%">
	    <span lang="hu">Jelentése</span>
	    <span lang="en">Meaning</span>
	  </th>
	</tr>
	<tr valign="top">
	  <td>NOP</td>
	  <td>-</td>
	  <td>MOV R0,R0</td>
	</tr>
	<tr valign="top">
	  <td>JMP</td>
	  <td>#16</td>
	  <td>MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JZ</td>
	  <td>#16</td>
	  <td>Z MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>FALSE</td>
	  <td>#16</td>
	  <td>Z MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JNZ</td>
	  <td>#16</td>
	  <td>NZ MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>TRUE</td>
	  <td>#16</td>
	  <td>NZ MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JC</td>
	  <td>#16</td>
	  <td>C MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JNC</td>
	  <td>#16</td>
	  <td>NC MVZL R15,#16</td>
	</tr>
	<tr valign="top">
	  <td>JP</td>
	  <td>Rb</td>
	  <td>MOV R15,Rb</td>
	</tr>
	<tr valign="top">
	  <td>RET</td>
	  <td>-</td>
	  <td>MOV R15,R14</td>
	</tr>
	<tr valign="top">
	  <td>PUSH</td>
	  <td>Rd</td>
	  <td>ST Rd,*R13,0</td>
	</tr>
	<tr valign="top">
	  <td>POP</td>
	  <td>Rd</td>
	  <td>LD Rd,*R13,0</td>
	</tr>
	<tr valign="top">
	  <td>INC</td>
	  <td>Rd</td>
	  <td>ADD Rd,1</td>
	</tr>
	<tr valign="top">
	  <td>DEC</td>
	  <td>Rd</td>
	  <td>ADD Rd,-1</td>
	</tr>
	<tr valign="top">
	  <td>LDL0</td>
	  <td>Rd,#16</td>
	  <td>MVZL Rd,#16</td>
	</tr>
	<tr valign="top">
	  <td>LDL</td>
	  <td>Rd,#16</td>
	  <td>MVL Rd,#16</td>
	</tr>
	<tr valign="top">
	  <td>LDH</td>
	  <td>Rd,#16</td>
	  <td>MVH Rd,#16</td>
	</tr>
      </thead>
    </table>


    <hr>
    
  </body>
</html>
