<!DOCTYPE html>
<html id="html-tag" lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script>
    function setCookie(name, value) {
	let date = new Date();
	 // Calculate expiration date
	date.setTime(date.getTime() + (/*days:*/1000 * 24 * 60 * 60 * 1000));
	let expires = "expires=" + date.toUTCString();
	 // Set the cookie
	document.cookie = name + "=" + value + ";" + expires + ";path=/";
    }
    function getCookie(name) {
	let cookieName = name + "=";
	 // Decode the cookie string
	let decodedCookie = decodeURIComponent(document.cookie);
	let ca = decodedCookie.split(';');
	for(let i = 0; i <ca.length; i++) {
	    let c = ca[i];
	    while (c.charAt(0) == ' ') {
		c = c.substring(1);
	    }
	    if (c.indexOf(cookieName) == 0) {
		return c.substring(cookieName.length, c.length);
	    }
	}
	return ""; // Return empty string if cookie not found
    }
    let $htmlTag = document.querySelector("#html-tag")
    let urlParams = new URL(window.location.toLocaleString()).searchParams;
    let url_lang= urlParams.get('lang');
    let coo_lang= getCookie("p12dev_lang");
    let lvar= "";
    function set_lang()
    {
	if (url_lang!=null)
	    lvar= url_lang;
	else
    	    lvar= coo_lang;
	switch(lvar) {
	case "hu": {
	    $htmlTag.lang = "hu";
	    $htmlTag.classList.add("hungarianLang");
	    setCookie("p12dev_lang", "hu");
	    break;
	}
	default: {
	    $htmlTag.classList.add("englishLang");
	    setCookie("p12dev_lang", "en");
	    break;
	}
	}
    }
    set_lang();
  </script>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="p12.css">
    <title>p2223 Library: System Functions</title>
  </head>
  
  <body>

    <p>
      <a href="index.html">Index</a>
      |
    <a href="devenv.html"><span lang="hu">Fejlesztés</span>
      <span lang="en">Development</span></a>
    |
    <a href="p2223.html">CPU</a>
    |
    <a href="computer_v2.html"><span lang="hu">Számítógép</span>
      <span lang="en">Computer</span></a>
    |
    <a href="asm.html">Assembler</a>
    |
    <a href="pmon.html">Monitor</a>
    |
    <a href="lib.html"><span lang="hu">Függvények</span>
      <span lang="en">Library</span></a>
    </p>

    <hr>

    <a href="lib_out.html"><span lang="hu">Kimenet</span>
      <span lang="en">Output</span></a>
    |
    <a href="lib_in.html"><span lang="en">Input</span>
      <span lang="hu">Bemenet</span></a>
    |
    <a href="lib_char.html"><span lang="hu">Karakter</span>
      <span lang="en">Character</span></a>
    |
    <a href="lib_str.html"><span lang="hu">Sztring</span>
      <span lang="en">String</span></a>
    |
    <a href="lib_math.html"><span lang="hu">Matematika</span>
      <span lang="en">Math</span></a>
    |
    <a href="lib_bsp.html"><span lang="hu">Kártya</span>
      <span lang="en">Board</span></a>
    |
    <a href="lib_sys.html"><span lang="hu">Rendszer</span>
      <span lang="en">System</span></a>
    |
    <a href="lib_std.html"><span lang="hu">Egyéb</span>
      <span lang="en">Standard</span></a>
    |
    <a href="lib_term.html"><span lang="hu">Terminál</span>
      <span lang="en">Terminal</span></a>

    <hr>
    

    <span lang="hu">Lang:</span> <span lang="en">Nyelv:</span>
    <a href="lib_sys.html?lang=hu">HU</a>
    <a href="lib_sys.html?lang=en">EN</a>

    
    <h1>
      <span lang="en">System functions</span>
      <span lang="hu">Rendszer függvények</span>
    </h1>


    <a name="monitor"><h3>monitor</h3></a>

    <ul>
      <li><span lang="en">Input(s):</span>
	<span lang="hu">Bemenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
      <li><span lang="en">Output(s):</span>
	<span lang="hu">Kimenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
    </ul>

    <p>
      <span lang="hu">Visszatérés a felhasználói programból a
      monitorhoz. A függvény nem tér vissza, azonban a program
      a <tt>go</tt> monitor paranccsal folytatható a hívás utáni
      utasítástól.</span>

      <span lang="en">Returns from the user program to the monitor. The
      function does not return, but the program can be continued from
      the instruction after the call with the <tt>go</tt> monitor
      command.</span>
    </p>
    

    <a name="monitor_by_uart"><h3>monitor_by_uart</h3></a>
    
    <ul>
      <li><span lang="en">Input(s):</span>
	<span lang="hu">Bemenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
      <li><span lang="en">Output(s):</span>
	<span lang="hu">Kimenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
    </ul>

    <p>
      <span lang="hu">Feltételes visszatérés a felhasználói programból
      a monitorhoz, ha a soros vonalon van beolbasható karakter. A
      függvény nem tér vissza, azonban a program
      a <a href="pmon.html#cmd_go"><tt>go</tt></a> monitor paranccsal
      folytatható a hívás utáni utasítástól.</span>

      <span lang="en">Performs a conditional return from the user
      program to the monitor if there is a readable character on the
      serial line. The function does not return, but the program can
      be continued from the instruction following the call with
      the <a href="pmon.html#cmd_go"><tt>go</tt></a> monitor
      command.</span>
    </p>

    
    <a name="monitor_by_button"><h3>monitor_by_button</h3></a>
    
    <ul>
      <li><span lang="en">Input(s):</span>
	<span lang="hu">Bemenet(ek):</span>
	<span lang="en">R0=number of button</span>
	<span lang="hu">R0=nyomógomb sorszáma (0-15)</span>
      </li>
      <li><span lang="en">Output(s):</span>
	<span lang="hu">Kimenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
    </ul>

    <p>
      <span lang="hu">Feltételes visszatérés a felhasználói programból
      a monitorhoz, ha az R0-ban megadott sorszámú nyomógmb
      megnyomódik. A függvény nem tér vissza, azonban a program
      a <a href="pmon.html#cmd_go"><tt>go</tt></a> monitor paranccsal
      folytatható a hívás utáni utasítástól.</span>

      <span lang="en">Performs a conditional return from the user
      program to the monitor if the pushbutton with the number
      specified in R0 is pressed. The function does not return, but
      the program can be continued from the instruction following the
      call with the
      <a href="pmon.html#cmd_go"><tt>go</tt></a> monitor
      command.</span>
    </p>

    
    <a name="monitor_version"><h3>monitor_version</h3></a>
    
    <ul>
      <li><span lang="en">Input(s):</span>
	<span lang="hu">Bemenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
      <li><span lang="en">Output(s):</span>
	<span lang="hu">Kimenet(ek):</span>
	<span lang="en">R4=version</span>
	<span lang="hu">R4=verzió</span>
      </li>
    </ul>

    <p>
      <span lang="hu">A pmon monitor program verziószámát adja meg. Az
	eredmény 1. bájtja a fő verziószám, a 0. bájt pedig az al
	verziószám.</span>

      <span lang="en">Returns the version number of the pmon monitor
      program. The high byte (byte 1) of the result is the major
      version number, and the low byte (byte 0) is the minor version
      number.</span>
    </p>

    
    <a name="exit"><h3>exit</h3></a>
    
    <ul>
      <li><span lang="en">Input(s):</span>
	<span lang="hu">Bemenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
      <li><span lang="en">Output(s):</span>
	<span lang="hu">Kimenet(ek):</span>
	<span lang="en">-</span>
	<span lang="hu">-</span>
      </li>
    </ul>

    <p>
      <span lang="hu">Kilépés a programból, feltétel nélküli és
      végleges visszatérés a monitorhoz.</span>

      <span lang="en">Exits the program, performing an unconditional
	and final return to the monitor.</span>
    </p>

    
    <hr>
  </body>
</html>
