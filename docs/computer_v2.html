<!DOCTYPE html>
<html id="html-tag" lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script>
   const $htmlTag = document.querySelector("#html-tag")
   const urlParams = new URL(window.location.toLocaleString()).searchParams;
   const lvar= urlParams.get('lang');
   switch(lvar) {
     case "hu":
       $htmlTag.lang = "hu"
       $htmlTag.classList.add("hungarianLang")
       break
     default:
       $htmlTag.classList.add("englishLang")
       break
   }
  </script>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="p12.css">
    <title>Computer v2</title>
  </head>

  <body>

    <p>
      <a href="index.html">Index</a>
      |
    <a href="devenv.html"><span lang="hu">Fejlesztés</span>
      <span lang="en">Development</span></a>
    |
    <a href="p2223.html">CPU</a>
    |
    <a href="computer_v2.html"><span lang="hu">Számítógép</span>
      <span lang="en">Computer</span></a>
    |
    <a href="asm.html">Assembler</a>
    |
    <a href="pmon.html">Monitor</a>
    |
    <a href="lib.html"><span lang="hu">Függvények</span>
      <span lang="en">Library</span></a>
    </p>

    <hr>
    
    <p>
      <span lang="hu">Perifériák:</span> 
      <span lang="en">Peripherals:</span> 
    <a href="#gpio">GPIO</a> |
    <a href="#timer"><span lang="hu">Időzítő</span><span lang="en">Timer</span></a> |
    <a href="#uart">UART</a> |
    <a href="#brd_ctrl">Board Control</a> |
    <a href="#clock"><span lang="hu">Óra</span><span lang="en">Clock</span></a>
    </p>

    <p>
      <span lang="hu">FPGA megvalósítás:</span>
      <span lang="en">FPGA implmenetation:</span>
      <a href="#nexys4ddr">Nexys4DDR</a> |
      <a href="#boolean">Boolean</a> |
      <a href="#logsys">LogSys</a>
    </p>

    <hr>
    
    <p>
    <span lang="hu">Lang:</span> <span lang="en">Nyelv:</span>
    <a href="computer_v2.html?lang=hu">HU</a>
    <a href="computer_v2.html?lang=en">EN</a>
    </p>

    <h1>
      <span lang="hu">Mikroszámítógép v2</span>
      <span lang="en">Microcomputer v2</span>
    </h1>

    <p>
      <span lang="hu">A <a href="p2223.html">mikroprocesszort</a>
	kiegészítve néhány alkatrésszel, mikroszámítógépet alakítunk
	ki.</span>

      <span lang="en">By adding a few components to
      the <a href="p2223.html">microprocessor</a>, we create a
      microcomputer.</span>
    </p>

<p><img title="" src="computer.png" alt="" /></p>

    <p>
      <span lang="hu">A
      processzort <a href="#memory">memóriával</a>, <a href="#gpio">GPIO
      áramkörökkel</a>, <a href="#clock">órával</a>, <a href="#timer">időzítővel</a>
      és <a href="#uart">UART</a>-al, az eszközöket összekötő buszt
      pedig <a href="#mem_map">címdekóderrel</a> egészítjük ki. A clk
      bemenet a számítógép, egyúttal a CPU órajele is. Az FPGA
      megvalósításban a clk bemenetre 25 MHz frekvenciájú órajelet
      kötünk.</span>

      <span lang="en">The processor is supplemented
      with <a href="#memory">memory</a>, <a href="#gpio">GPIO
      circuits</a>, <a href="#clock">clock</a>, <a href="#timer">timer</a>
      and <a href="#uart">UART</a>, and the bus connecting the devices
      is supplemented with <a href="#mem_map">address decoder</a>. The
      clk input drives the computer, and also the CPU. In the FPGA
      implementation, a 25 MHz clock is connected to the clk
      input.</span>
    </p>


    <a name="memory"><h1>
	<span lang="hu">Memória</span>
	<span lang="hu">Memory</span>
    </h1></a>

    <p>
      <span lang="hu">A processzor memória illesztőjére kapcsolódó
      memória fogja tárolni a futtatott programot, valamint a
      feldolgozott adatokat. A memóriát az FPGA-n alakítjuk ki, a
      lefordított program kódját pedig beillesztjük az
      alkatrészbe.</span>

      <span lang="en">The memory connected to the processor's memory
      interface will store the running program and the processed
      data. The memory is designed on the FPGA, and the compiled
      program code is inserted into the component.</span>
    </p>

    <p>
      <span lang="hu">A memória kapacitása kártyától függően 64, vagy
	128 Kszó, a címzéshez így 16, vagy 17 bitre van
	szükség. Minden szó 32 bites.</span>

      <span lang="en">The memory capacity is 64 or 128 Kwords
      depending on the board, so 16 or 17 bits are required for
      addressing.  Each word is 32 bits.</span>
    </p>

    <a name="gpio"><h1>GPIO</h1></a>

    <p>
      <span lang="hu">A külvilággal való kapcsolattartást a memória
	illesztőre kapcsolt GPIO (General Purpose Input Output)
	áramkörök valósítják meg.</span>

      <span lang="en">Communication with the outside world is achieved
	by GPIO (General Purpose Input Output) circuits connected to
	the memory interface.</span>
    </p>

    <h2>
      <span lang="hu">Kimenetek</span>
      <span lang="en">Outputs</span>
    </h2>

    <p>
      <span lang="hu">A kimeneti kivezetéseket egy négy regiszterből
      álló “memória” valósítja meg, amelyből mind a négy regiszter
      kimenetei ki vannak vezetve. A számítógép kimenetei a PORTA,
      PORTB, PORTC, PORTD nevet viselik, és a GPIO kimeneti
      adatregiszterének (ODR) értéke jelenik meg rajtuk. A regiszterek
      tartalma írható (memória írás utasítással), valamint vissza is
      olvasható a tartalmuk.</span>

      <span lang="en">The output pins are implemented by a “memory”
      consisting of four registers, from which the outputs of all four
      registers are derived. The computer outputs are named PORTA,
      PORTB, PORTC, PORTD, and the value of the GPIO output data
      register (ODR) is displayed on them. The contents of the
      registers can be written (with a memory write instruction), and
      their contents can be read back.</span>
    </p>

    <p>
      <span lang="hu">A 4 regiszter 4 egymást követő címen található,
	a kezdőcímet a
	<a href="#mem_map">címdekóder</a> határozza meg:</span>

      <span lang="en">The 4 registers are located at 4 consecutive
      addresses, the starting address is determined by
      the <a href="#mem_map">address decoder</a>:</span>
    </p>

    <table border=1>
      <tr>
	<th><span lang="hu">Offszet</span><span lang="en">Offset</span></th>
	<th>Port</th>
	<th><span lang="hu">GPIO regiszter</span><span lang="en">GPIO register</span></th>
      </tr>
      <tr>
	<td>0</td>
	<td>PORTA</td>
	<td>GPIOA.ODR</td>
      </tr>
      <tr>
	<td>1</td>
	<td>PORTB</td>
	<td>GPIOB.ODR</td>
      </tr>
      <tr>
	<td>2</td>
	<td>PORTC</td>
	<td>GPIOC.ODR</td>
      </tr>
      <tr>
	<td>3</td>
	<td>PORTD</td>
	<td>GPIOD.ODR</td>
      </tr>
    </table>
    
    
    <h2>
      <span lang="hu">Bemenetek</span>
      <span lang="en">Inputs</span>
    </h2>
    
    <p>
      <span lang="hu">Bemenetként szintén regisztert használunk. A
      regiszter olvasásakor a bemeneti vezetékek állapota eltárolódik
      a regiszterben (mintavétel), a processzor ennek a tartalmát
      fogja megkapni. A bemeneti GPIO áramkörben egy regiszter van,
      így egy 32 bites bemenő adathoz lehet vele hozzáférni. A
      számítógépben két ilyen áramkört kapcsolunk a buszra, így két
      bemeneti portot kapunk:</span>

      <span lang="en">We also use a register as an input. When reading
      the register, the state of the input wires is stored in the
      register (sampling), the processor will receive its content. The
      input GPIO circuit has a register, so it can access a 32-bit
      input data. In the computer, we connect two such circuits to the
      bus, so we get two input ports:</span>
    </p>
    
    <table border=1>
      <tr>
	<th>Port</th>
	<th>GPIO regiszter</th>
      </tr>
      <tr>
	<td>PORTI</td>
	<td>GPIOI.IDR</td>
      </tr>
      <tr>
	<td>PORTJ</td>
	<td>GPIOJ.IDR</td>
      </tr>
    </table>
    
    
    <a name="timer"><h1>
	<span lang="hu">Időzítő</span>
	<span lang="en">Timer</span>
    </h1></a>
    
    <p>
      <span lang="hu">Az időzítő egy 32 bites bináris előre számlálót
      tartalmaz, amely a számítógéptől független órajellel
      léptethető. Az FPGA megvalósításnál 1 MHz-es órajelet
	használunk, míg a verilog szimulációban az időzítő</span>
      
      <span lang="en">The timer contains a 32-bit binary up-counter
      that can be stepped by a clock signal independent of the
      computer . In the FPGA implementation, a 1 MHz clock signal is
      used, while in the verilog simulation the timer receives a clock
      signal of</span>
      
      <math xmlns="http://www.w3.org/1998/Math/MathML">
	<mrow>
	  <mfrac>
	    <msub>
	      <mi>f</mi>
	      <mi>CPU</mi>
	    </msub>
	    <mn>20</mn>
	  </mfrac>
	</mrow>
      </math>
      
      <span lang="hu">frekvenciájú órajelet kap. A
      számlálás ki, illetve bekapcsolható, nullától egy beállítható
      végértékig tart, melynek az elérése után a számláló nullázódik. A
      végérték elérését a túlcsordulás kimenet 1 értékűvé válása jelzi, a
	kimenetet szoftverből kell törölni, törlésig 1 marad.</span>

      <span lang="en">frequency.  The counting can be turned on or
      off, and it goes from zero to the end value which can be set,
      after which the counter is reset.  Reaching the end value is
      indicated by the overflow output becoming 1, the output must be
      cleared from software, and remains 1 until cleared.</span>
    </p>

    
    <h2>
      <span lang="hu">Az időzítő regiszterei</span>
      <span lang="en">Registers of the timer</span>
    </h2>
    
    <h3>TIMER.CTRL, control</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 0<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">A regiszter tartalma vezérli a számláló
	működését.</span>

      <span lang="en">The contents of the register control the
      operation of the counter.</span>
    </p>
    
    <ul>
      
      <li>TIMER.CTRL[0]: EN, enable.
	<span lang="hu">Ha a bit értéke 1, a számláló bekapcsol, ha a
	  bit értéke 0, a számláló megáll.</span>
	<span lang="en">If the bit value is 1, the counter starts, if
	the bit value is 0, the counter stops.</span>
      </li>
      
      <li>TIMER.CTRL[1]: IEN, interrupt enable.
	<span lang="hu">Ha a bit értéke 1, az áramkör irq kivezetése
	  túlcsordulás esetén 1 lesz.</span>
	<span lang="en">If the bit value is 1, the circuit's irq pin
	  will be set to 1 in case of overflow.</span>
      </li>
      
      <li>TIMER.CTRL[31:2]: reserved.
	<span lang="hu">Nem használt bitek.</span>
	<span lang="en">Unused bits.</span>
      </li>
      
    </ul>
    
    <h3>TIMER.AR, auto-reload</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 1<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">A regiszter a számlálás végértékét állítja
      be. Amikor a számláló értéke az AR regiszter tartalmával
      egyezik, a túlcsordulás kimenet 1 lesz, a számláló a következő
	lépéskor nullázódik.</span>

      <span lang="en">The register sets the end value of the
      count. When the counter value matches the contents of the AR
      register, the overflow output will be 1, and the counter will be
      reset to zero at the next step.</span>
    </p>
    
    <h3>TIMER.CNTR, counter</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 2<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">A számláló aktuális értékét tartalmazó
	regiszter. Írás művelettel a számláló értéke
	megváltoztatható.</span>

      <span lang="en">A register containing the current value of the
      counter. The value of the counter can be changed by a write
      operation.</span>
    </p>
    
    <h3>TIMER.STAT, status</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 3<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 2</p>
    
    <p>
      <span lang="hu">Az időzítő állapotáról tartalmaz
      információt.</span>

      <span lang="en">It contains information about the timer
      status.</span>
    </p>
    
    <ul>
      
      <li>TIMER.STAT[0]: EN, enable.
	<span lang="hu">A CTRL[0] bit értéke, csak olvasható.</span>
	<span lang="en">Value os the CTRL[0] bit, read only.</span>
      </li>
      
      <li>TIMER.STAT[1]: OVF, overflow, read-only.
	<span lang="hu">Olvasás esetén a túlcsordulási állapot értékét
	kapjuk. A túlcsordulás akkor vált 1-re, amikor a számláló
	  értéke egyezővé válik az AR regiszter értékével.</span>
        <span lang="en"> In the case of reading, we get the overflow
        condition value. Overflow becomes 1 when the counter value
        becomes the same as the value of the AR register.</span>
      </li>
      
      <li>TIMER.STAT[1]: RSTO, reset overflow, write-only.
	<span lang="hu">Írás művelet esetén ennek a bitnek az 1
	értékűre való írásával tudjuk törölni a túlcsordulás
	  állapotot.</span>
	<span lang="en">In the case of a write operation, we can clear
	  the overflow condition by writing this bit to 1.</span>
      </li>
      
    </ul>
    
    
    <a name="uart"><h1>UART</h1></a>
    
    <p>
      <span lang="hu">Univerzális aszinkron soros adó- vevő
      áramkör. Az áramkör vevő oldala egy 16 elemű belső FIFO-val van
      ellátva, amely kiolvasás előtt az utolsó 15 vett adatot tudja
      tárolni.</span>

      <span lang="en">Universal asynchronous serial transceiver
      circuit. The receiver side of the circuit is equipped with a
      16-element internal FIFO, which can store the last 15 received
      data before reading it out.</span>
    </p>
    
    <h3>UART.DR, data register</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 0<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">8 bites adat regiszter, írása elindítja a küldő
      műveletet. Olvasása a FIFO legrégebbi tárolt karakterét
      adja. Olvasáskor a [31:8] bitek értéke 0 lesz.</span>

      <span lang="en">8-bit data register, writing it starts the send
      operation. Reading it gives the oldest stored character of the
      FIFO. When reading, bits [31:8] will be set to 0.</span>
    </p>
    
    <h3>UART.CTRL, control</h3>
    
    <p>Offset: 1</br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <ul>
      
      <li>UART.CTRL[0]: RXEN, receive enable.
	<span lang="hu">Vevő áramkör engedélyezése, a vétel funkció
	bekapcsolása. 1 értéke a vevőt bekapcsolja, 0 értéke a vevőt
	  kikapcsolja.</span>
	<span lang="en">Enable receiver circuit, turn on the receive
	function. A value of 1 turns the receiver on, a value of 0
	turns the receiver off.</span>
      </li>
      
      <li>UART.CTRL[1]: TXEN, transmit enable.
	<span lang="hu">Küldő áramkör engedélyezése, a küldés funkció
	bekapcsolása. 1 értéke a küldést engedélyezi, 0 értéke a
	  küldést tiltja.</span>
	<span lang="en">Enable the sending circuit, turn on the
	sending function. A value of 1 enables sending, a value of 0
	disables sending.</span>
      </li>
      
    </ul>
    
    <h3>UART.RSTAT, receive status</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 2<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">Csak olvasható regiszter, a vevő áramkör
	állapotáról tartalmaz információt.</span>

      <span lang="en">Read-only register, it contains information about
      the state of the receiver circuit.</span>
    </p>
    
    <ul>
      
      <li>UART.RSTAT[0]: RNE, receiver not empty.
	<span lang="hu">A bit 1 értékű, ha a vevő áramkör egy byte-ot
	vett és a FIFO nem üres. Az adat regiszter kiolvasása a bitet
	0 értékre állítja, amennyiben az olvasás a FIFO utolsó adatát
	olvasta ki.</span>
	<span lang="en">The bit is set to 1 if the receiver circuit
        has received a byte and the FIFO is not empty. Reading the
        data register sets the bit to 0 if the read has read the last
        data from the FIFO.</span>
      </li>
      
      <li>UART.RSTAT[1]: BREAK, break received.
	<span lang="hu">A bit 1 értékű, ha van vett karakter, és az
	  0.</span>
	<span lang="en">The bit is 1 if there is a character received,
        and 0 if not.</span>
      </li>
      
      <li>UART.RSTAT[2]: RX_VALID,
	<span lang="hu">1 értéke azt jelzi, hogy a vevő shift
	  regiszter kimenetén vett adat található.</span>
	<span lang="en">A value of 1 indicates that there is data
        received at the output of the receiver shift register.</span>
      </li>
      
      <li>UART.RSTAT[4]: FIFO_EMPTY,
	<span lang="hu">értéke 1, ha a vevő FIFO üres (az RNE bit
	  értékének negáltja).</span>
	<span lang="en">will be 1 if the receiver FIFO is empty (the
	  negation of the RNE bit ).</span>
      </li>
      
      <li>UART.RSTAT[5]: FIFO_FULL,
	<span lang="hu">1, ha a vevő FIFO megtelt. Ha olvasással nem
	távolítunk el adatot a FIFO-ból, akkor a további vett adatok
	  elvesznek.</span>
	<span lang="en">1, if the receiver FIFO is full. If no data is
	removed from the FIFO by reading, then further received data
	will be lost.</span>
      </li>
      
      <li>UART.RSTAT[23:16]: FIFO_WADDR,
	<span lang="hu">a FIFO buffer következő üres helyének
	címe.</span>
	<span lang="en">the address of the next empty space in the
        FIFO buffer .</span>
      </li>
      
      <li>UART.RSTAT[31:24]: FIFO_RADDR,
	<span lang="hu">a FIFO-ban legrégebben eltárolt adat
        címe.</span>
	<span lang="en">the address of the oldest data stored in the
        FIFO.</span>
      </li>
      
    </ul>
    
    <h3>UART.TSTAT, transmit status</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 3<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 1</p>
    
    <p>
      <span lang="hu">Csak olvasható regiszter, a küldő áramkör
      állapotáról tartalmaz információt.</span>

      <span lang="en">Read-only register, contains information about
      the state of the sending circuit .</span>
    </p>
    
    <ul>
      
      <li>UART.TSTAT[0]: TC transmit complete.
	<span lang="hu">A bit 1 értékű, ha a küldő üres, és nem végez
	adattovábbítást. Az adat regiszter írásával elindított küldés
	  törli a bit értékét.</span>
	<span lang="en">The bit is set to 1 if the sender is empty and
	not transmitting data. A transmission initiated by writing to
	the data register clears the bit.</span>
      </li>
      
    </ul>
    
    <h3>UART.CPB, cycles per bit</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 4<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 216</p>
    
    <p>
      <span lang="hu">Írható és olvasható regiszter, amelynek az
      értéke a bit továbbítás sebességét állítja be (jelelési
      sebesség). A tartalma azt adja meg, hogy egy bit továbbításának
      az ideje mennyi, az áramkörre kapcsolt órajel periódusainak a
      számában. Az átvitel sebessége:</span>

      <span lang="en">A readable and writable register whose value
      sets the bit transmission speed (signaling rate). Its contents
      specify the time it takes to transmit one bit, in the number of
      periods of the clock signal connected to the circuit. The
      transmission speed:</span>
    </p>
    
    <p>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
	<mrow>
	  <mi>BaudRate</mi><mo>=</mo>
	  <mfrac>
	    <msub> <mi>f</mi> <mi>CLK</mi> </msub>
	    <mrow> <mi>CPB</mi> <mo>+</mo> <mn>1</mn> </mrow>
	  </mfrac>
	  <mrow> <mo>[</mo> <mi>baud</mi> <mo>]</mo> </mrow>
	</mrow>
      </math>
      
    </p>
    
    <p>
      <span lang="hu">ahol az fCLK az áramkör bemenetére kötött órajel
      frekvenciája. 25 MHz-es órajel esetén a 216-os kezdőérték
	~115200 baud sebességet eredményez.</span>

      <span lang="en">where fCLK is the frequency of the clock signal
      connected to the input of the circuit. For a 25 MHz clock, a
      starting value of 216 results in a baud rate of ~115200.</span>
    </p>
    
    
    <a name="brd_ctrl"><h1>Board Control</h1></a>
    
    <p>
      <span lang="hu">A periféria regisztereivel a számítógép kimeneti
	portjainak felhasználási módja vezérelhető.</span>

      <span lang="en">The peripheral registers control how the
      computer's output ports are used.</span>
    </p>
    
    <h3>BRD_CTRL.OUT, output control</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 0<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <ul>
      
      <li>BRD_CTRL.OUT[0] DISPLAY_BY_COMP:
	<span lang="hu">0 érték esetén a hétszegmenses kijelzőn
	megjelenő értéket a [7:4] kapcsolók választják ki, 1 esetén
	pedig az OUT regiszter [7:4] bitjei.</span>
	<span lang="en">In the case of a value of 0, the value
        displayed on the seven-segment display is selected by the
        [7:4] switches, and in the case of a value of 1, by the [7:4]
        bits of the OUT register.</span>
      </li>
      
      <li>BRD_CTRL.OUT[7:4]: DISPLAY_SELECT:
	<span lang="hu">a hétszegmenses kijelzőn megjelenő értéket
	választják ki, akkor ha az DISPLAY_BY_COMP bit 1
	értékű.</span>
	<span lang="en">the value displayed on the seven-segment
        display is selected when the DISPLAY_BY_COMP bit is set to 1.
	</span>
      </li>
      
    </ul>
    
    <p>
      <span lang="hu">A kimeneti portok (PORTA...PORTD) felhasználását
	vezérli. Hatása csak az FPGA megvalósítások esetén van.</span>

      <span lang="en">Controls the usage of the output ports
      (PORTA...PORTD). It only has an effect on FPGA
      implementations.</span>
    </p>
    
    
    <a name="simif"><h1>
	<span lang="hu">Szimulátor felület</span>
	<span lang="en">Simulator interface</span>
    </h1></a>
    
    <p>
      <span lang="hu">Ez a periféria szövegek kiírására használható,
      abban az esetben, ha szimuláljuk az áramkör viselkedését egy
      verilog szimulátorral. A perifériának egy regisztere van. A
      regiszterbe először egy parancsot, majd egy paramétert kell a
      szoftvernek írnia. Ha a parancs értéke ‘p’ (112, 0x70), akkor a
      második, paraméter értéket az illesztő ASCII kódnak tekinti, és
      a kódnak megfelelő betűt kiírja a szimulátor felületére.</span>

      <span lang="en">This peripheral can be used to print texts, in
      case the circuit behavior is simulated with a verilog
      simulator. The peripheral has one register.  The software must
      first write a command and then a parameter to the register. If
      the command value is ‘p’ (112, 0x70), then the second, parameter
      value is considered as an ASCII code and the letter
      corresponding to the code is printed on the simulator
      interface.</span>
    </p>
    
    <h3>SIMIF.CMD_PAR</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 0<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">Parancs és adat regiszter.</span>
      <span lang="hu">Command and data register.</span>
    </p>
    
    
    <a name="clock"><h1>
	<span lang="hu">Óra</span>
	<span lang="en">Clock</span>
    </h1></a>
    
    <p>
      <span lang="hu">A periféria egy 32 bites előre számlálót
      tartalmaz, amelynek a működési frekvenciája (vagyis a lépések
      közötti idő) egy előosztó segítségével beállítható.</span>

      <span lang="en">The peripheral contains a 32-bit up-counter,
      whose operating frequency (i.e. the time between steps ) can be
      set using a prescaler.</span>
    </p>
    
    <p>
      <span lang="hu">Ezen kívül még 14 darab 32 bites hátra számlálót
      is használhatunk, amlyeknek a frekvenciája az óra számlálóéval
      egyezik meg. Ezek a számlálók csak akkor lépnek, ha nem nulla az
      értékük, a 0 elérésekor a számlálás leáll.</span>

      <span lang="en">In addition, we can use 14 32-bit down counters
      whose frequency is the same as that of the clock counter.  These
      counters only move if their value is not zero, and counting
      stops when 0 is reached.</span>
    </p>
    
    
    <h3>CLOCK, clock value</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 0<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">A regiszter az óra számláló értékét tartalmazza,
      írható és olvasható.</span>

      <span lang="en">The register contains the clock counter value,
      it can be written and read.</span>
    </p>
    
    <h3>CLOCK.PRE, pre-divider value</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 1<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">A PRE regiszter értéke határozza meg az óra
	működési frekvenciáját, két lépés között CNT+1 bemeneti órajel
	telik el:</span>

      <span lang="en">The value of the PRE register determines the
      operating frequency of the clock, CNT+1 input clock signal
      elapses between two steps:</span>
    </p>
    
    <p>
      <math xmlns="http://www.w3.org/1998/Math/MathML">
	<mrow>
	  <msub> <mi>f</mi> <mi>CLOCK</mi> </msub>
	  <mo>=</mo>
	  <mfrac>
	    <msub> <mi>f</mi> <mi>CLK</mi> </msub>
	    <mrow> <mi>PRE</mi> <mo>+</mo> <mn>1</mn> </mrow>
	  </mfrac>
	</mrow>
      </math>
    </p>
    
    <p>
      <span lang="hu">Ha a rendszer órajele 25 MHz, ahhoz, hogy az óra
      1 ms időnként lépjen egyet, az előosztó regiszter értékét
      24999-re kell állítani. Az óra csak akkor működik, ha a PRE nem
      0 értékű, így 0-ra állítással az óra megállítható.</span>

      <span lang="en">If the system clock is 25 MHz, in order for the
      clock to move once every 1 ms, the value of the prescaler
      register should be set to 24999. The clock only works if the PRE
      is not 0, so setting it to 0 stops the clock.</span>
    </p>
    
    <h3>CLOCK.BCNT2…BCNT15, backward counters</h3>
    
    <p><span lang="hu">Offszet</span><span lang="en">Offset</span>: 2…15<br>
      <span lang="hu">Kezdőérték</span><span lang="en">Initial value</span>: 0</p>
    
    <p>
      <span lang="hu">Hátra számlálók, amelyeknek a működési
      frekvenciája az óra regiszterével egyezik. A számlálók csak
      akkor lépnek, ha nem 0 az értékük. A 0 elérésekor az egyes
      számlálók megállnak.</span>

      <span lang="en">Countdown counters whose operating frequency
      matches the clock register. The counters only advance if their
      value is not 0. When 0 is reached, the backcounter stops.</span>
    </p>
    
    
    <a name="fpga"><h1>
	<span lang="hu">FPGA megvalósítás</span>
	<span lang="en">FPGA implementation</span>
    </h1></a>
    
    <p>
      <span lang="hu">A számítógéphez az FPGA kártyán elérhető
	eszközök vannak hozzákötve megfelelő illesztő áramkörökön
	keresztül.</span>

      <span lang="en">The devices available on the FPGA board are
      connected to the computer via appropriate interface
      circuits.</span>
    </p>
    
    <p><img title="" src="fpga_comp.svg" alt="" /></p>
    
    <p>
      <span lang="hu">A felhasznált kártyákon az oszcillátor 100
      MHz-es órajelet állít elő. Ebből a számítógép 25 MHz-es órajelét
      egy frekvenciaosztó áramkör készíti el.</span>

      <span lang="en">On the cards used, the oscillator produces a 100
      MHz clock signal. From this, the computer's 25 MHz clock signal
      is generated by a frequency divider circuit.</span>
    </p>
    
    <p>
      <span lang="hu">A bemeneti eszközök (BTN nyomógombok, SW
	kapcsolók) illesztésére pergésmentesítő áramkört
	alkalmazunk.</span>

      <span lang="en">A debounce circuit is used to process signals
      from the input devices (BTN pushbuttons, SW switches).</span>
    </p>
    
    <p>
      <span lang="hu">A kimeneti eszközök a kártyák LED-jei és
      hétszegmenses kijelzői. A kijelző multiplex meghajtást igényel,
      ezt egy több üzemmódban is használható kódátalakító működteti. A
      megjelenített adatok a számítógép különböző kimeneteiről
      érkezhetnek, ezek közül egy multiplexer választja ki a
      megjelenített értéket.</span>

      <span lang="en">The output devices are the LEDs and
      seven-segment displays of the boards. The display requires
      multiplex drive, which is operated by a multi-mode code
      converter.  The displayed data can come from different outputs
      of the computer, from which a multiplexer selects the displayed
      value.</span>
    </p>
    
    <p>
      <span lang="hu">A számítógéppel az UART periférián keresztül
	kommunikálhatunk, amely a kártya UART-USB átalakítóján
	keresztül érhető el.</span>

      <span lang="en">We can communicate with the computer via the
      UART peripheral, which is accessible via the UART-USB converter
      of the board.</span>
    </p>
    
    
    <a name="reset"><h2>
	<span lang="hu">A számítógép alaphelyzetbe állítása</span>
	<span lang="en">Reset the computer</span>
    </h2></a>
    
    <p>
      <span lang="hu">A CPU reset-elése elvégezhető a kártya CPU reset
	nyomógombjával, ha a kártya rendelkezik vele.</span>

      <span lang="en">The CPU can be reset using the CPU reset button
      on the board, if the board has one.</span>
    </p>
    
    <p>
      <span lang="hu">Másik módszer, a BTN[1] nyomógomb (Nexys4DDR
      kártyán BTND) nyomva tartása közben a BTN[0] gomb (Nexys4DDR
      kártyán a BTNC) megnyomása. Ez a módszer csak a BTN[0] egyszeri
      megnyomásakor működik. A következő reset előállításához a BTN[1]
      gombot fel kell engedni, majd újra nyomva tartva lehet a BTN[0]
      megnyomásával reset-elni.</span>

      <span lang="en">Another method is to press and hold the BTN[1]
      button (BTND on Nexys4DDR card) while pressing the BTN[0] button
      (BTNC on Nexys4DDR card). This method only works when BTN[0] is
      pressed once. To generate the next reset, the BTN[1] button must
      be released, and then the BTN[0] button can be pressed and held
      again to reset.</span>
    </p>
    
    
    <a name="display"><h2>
	<span lang="hu">Kijelző</span>
	<span lang="en">Display</span>
    </h2></a>
    
    <p>
      <span lang="hu">A hétszegmenses kijelző egy 32 bites szám
      értékét tudja megjeleníteni hexadecimális számrendszerben. A
      kijelzőn 16 különféle érték jeleníthető meg, ezeket a SW[7:4]
      kapcsolókon beállított bináris (0-15) értékkel, vagy
      a <a href="#brd_ctrl">BRD_CTRL periféria</a> OUT regiszterének
      [7:4] bitjeivel (ha OUT[0]==1) választhatjuk ki.</span>

      <span lang="en">The seven-segment display can display a 32-bit
      number in hexadecimal. The display can display 16 different
      values, which can be selected by the binary (0-15) values ​​set on
      the SW[7:4] switches, or by the [7:4] bits of
      the <a href="#brd_ctrl">BRD_CTRL peripheral</a> OUT register (if
      OUT[0]==1).</span>
    </p>
    
    <p><img title="" src="display.svg" alt="" /></p>
    
    <table border=1>
      <tr>
	<th>SW[7:4] <span lang="hu">vagy</span><span lang="en">or</span> BRD_CTRL.OUT[7:4]</th>
	<th><span lang="hu">Megjelenített érték</span><span lang="en">Displayed value</span></th>
      </tr>
      <tr>
	<td>0000 (0)</td>
	<td>PORTA</td>
      </tr>
      <tr>
	<td>0001 (1)</td>
	<td>PORTB</td>
      </tr>
      <tr>
	<td>0010 (2)</td>
	<td>PORTC</td>
      </tr>
      <tr>
	<td>0011 (3)</td>
	<td>PORTD</td>
      </tr>
      <tr>
	<td>0100 (4)</td>
	<td><span lang="hu">A CPU órajelével léptetett 32 bites bináris
	  számláló értéke</span>
	  <span lang="en">The value of a 32-bit binary counter that is
	  incremented by the CPU clock</span></td>
      </tr>
      <tr>
	<td>0101 (5)</td>
	<td><span lang="hu">Az időzítő AR regiszterének az
	értéke</span><span lang="en">The value of the timer AR
	register</span>
	</td>
      </tr>
      <tr>
	<td>0110 (6)</td>
	<td><span lang="hu">Az időzítő CNTR regiszterének az
	értéke</span><span lang="en">The value of the timer's CNTR
	register</span></td>
      </tr>
      <tr>
	<td>0111 (7)</td>
	<td><span lang="hu">Az időzítő CTRL regiszterének az
	értéke</span><span lang="en">The value of the timer's CTRL
	register</span></td>
      </tr>
      <tr>
	<td>1000 (8)</td>
	<td><span lang="hu">A CPU teszt kimenetének az értéke
	(*)</span><span lang="en">The value of the CPU test output
	(*)</span></td>
      </tr>
      <tr>
	<td>1001 (9)</td>
	<td><span lang="hu">A CPU kiválasztott regiszterének az értéke
	(**)</span><span lang="en">The value of the selected register
	of the CPU (**)</span></td>
      </tr>
      <tr>
	<td>1010 (10)</td>
	<td><span lang="hu">A kijelző direkt meghajtása (szegmens mód)
	    a PORTC, PORTD kimenetekkel
	    (***)</span><span lang="en">Direct display drive (segment
	    mode) with PORTC, PORTD outputs (***)</span></td>
      </tr>
      <tr>
	<td>1011 (11)</td>
	<td>0</td>
      </tr>
      <tr>
	<td>1100 (12)</td>
	<td><span lang="hu">A processzor megszakításkérő bemeneteire
	    kötött értékek (jelenleg nem
	    használt)</span><span lang="en">Values ​​bound to the
	    processor interrupt request inputs (currently
	    unused)</span></td>
      </tr>
      <tr>
	<td>1101 (13)</td>
	<td><span lang="hu">A CPU adatbusz bemeneteinek
	értéke</span><span lang="en">CPU data bus inputs
	value</span></td>
      </tr>
      <tr>
	<td>1110 (14)</td>
	<td><span lang="hu">A CPU adatbusz kimeneteinek
	értéke</span><span lang="en">CPU data bus outputs
	value</span></td>
      </tr>
      <tr>
	<td>1111 (15)</td>
	<td><span lang="hu">A CPU címbusz
	értéke</span><span lang="en">CPU address bus value</span></td>
      </tr>
    </table>
    
    <p>
      <span lang="hu">(*) A SW[11:8] kapcsolókon beállított 4 bites
      bináris érték választja ki, hogy a CPU teszt kimenetein milyen
      értékek jelenjenek meg (P2 CPU esetén nincs
      megvalósítva).</span>

      <span lang="en">(*) The 4-bit binary value set on the SW[11:8]
      switches selects the values ​​to be displayed on the CPU test
      outputs (not implemented in the case of P2 CPU).</span>
    </p>
    
    <p>
      <span lang="hu">(**) A SW[3:0] kapcsolókon beállított 4 bites
      bináris érték (0-15) választja ki, hogy a CPU melyik
      regiszterének az értéke jelenjen meg a kijelzőn.</span>

      <span lang="en">(**) The 4-bit binary value (0-15) set on the
      SW[3:0] switches selects which register of the CPU is
      displayed.</span>
    </p>
    
    <p>
      <span lang="hu">(***) A PORTD 32 bitje a kijelző 0-3
      számjegyének 32 LED-jét vezérli (4-7 karakterpozíciók), míg a
      PORTC 32 bitje a kijelző 4-7 számjegyének (0-3 karakterpozíciók)
      LED-jeit működteti.</span>

      <span lang="en">(***) The 32 bits of PORTD control the 32 LEDs
      of the display digits 0-3 (character positions 4-7), while the
      32 bits of PORTC operate the LEDs of the display digits 4-7
      (character positions 0-3).</span>
    </p>
    
    <h3>
      <span lang="hu">Szegmens mód</span>
      <span lang="en">Segment mode</span>
    </h3>
    
    <p>
      <span lang="hu">Amennyiben a kijelzendő adatként a 10-es
      sorszámú van kiválasztva, a kijelző meghajtó szegmens üzemmódban
      működik, ebben az esetben az adatot a PORTD és PORTC kimenetek
      szolgáltatják.</span>

      <span lang="en">If the data to be displayed is numbered 10, the
      display driver operates in segment mode, in which case the data
      is provided by the PORTD and PORTC outputs.</span>
    </p>
    
    <p><img title="" src="segmode.svg" alt="" /></p>
    
    
    <a name="mem_map"><h1>
	<span lang="hu">Címdekóder, memória térkép</span>
	<span lang="en">Address decoder, memory map</span>
    </h1></a>
    
    <p>
      <span lang="hu">A számítógépbe 128 kszó RAM memória van
      beépítve, amely alapvetően az első 128k címen érhető el. Az első
      64k utolsó 256 címe esetén azonban a címdekóder nem a memóriát,
      hanem helyette az IO áramköröket választja ki. Az IO áramkörök
      tehát a 0xFF00-0xFFFF tartományon belül használhatók. Az egyes
      perifériák regisztereinek kezdőcímét a memória térkép rajzáról
      olvashatjuk le.</span>

      <span lang="en">The computer has 128 kwords of RAM memory, which
      is basically accessible at the first 128k addresses. However, in
      the case of the last 256 addresses of the first 64k, the address
      decoder does not select the memory, but instead selects the IO
      circuits. The IO circuits can therefore be used within the range
      0xFF00-0xFFFF. The starting address of the registers of each
      peripheral can be read from the memory map.</span>
    </p>
    
    <p>
      <span lang="hu">A RAM első 65280 szó, és a második 64 kszó
      méretű területén tárolhatók a felhasználói program és annak
      adatai. A 0xF000-0xFEFF memóriaterület kezdőértékként a
	<a href="pmon.html">PMon nevű monitorprogram</a> kódját
      tartalmazza, míg a 0 címen egy vezérlésátadó utasítás van, amely
      bekapcsoláskor elindítja a monitort.</span>

      <span lang="en">The first 65280 words of RAM and the second 64
      kwords area can store the user program and its data. The
      0xF000-0xFEFF memory area contains
      the <a href="pmon.html">monitor program code called PMon</a> as
      its initial value, while at address 0 there is a control
      transfer instruction that starts the monitor when the computer
      is turned on.</span>
    </p>
    
    <p>
      <span lang="hu">A monitor segítségével megvizsgálhatjuk,
      módosíthatjuk a memória tartalmát, beállíthatjuk a felhasználói
      program számára a regisztereket, valamint
      az <a href="#uart">UART</a>-on keresztül betölthetjük a
      memóriába a felhasználói programot. A monitor egy parancssoros
      felhasználói felülettel (CLI) rendelkezik, amelyet
      az <a href="#uart">UART</a>-on keresztül használhatunk,
      115200,N,8,1 beállításokkal.</span>

      <span lang="en">The monitor allows you to examine, modify the
      contents of memory, set registers for the user program, and load
      the user program into the memory via
      the <a href="#uart">UART</a>. The monitor has a command-line
      user interface (CLI), which can be used via
      the <a href="#uart">UART</a>, with settings of
      115200,N,8,1.</span>
    </p>
    
    <p><img title="" src="mem_map.svg" alt="" /></p>
    
    <h3>
      <span lang="hu">IO áramkörök regisztereinek címei</span>
      <span lang="en">Addresses of IO registers</span>
    </h3>
    
    <table border=1 width=600px>
      <tr>
	<th><span lang="hu">Cím</span><span lang="en">Address</span></th>
	<th><span lang="hu">Periféria</span><span lang="en">Peripheral</span></th>
	<th><span lang="hu">Regiszter</span><span lang="en">Register</span></th>
      </tr>
      <tr bgcolor="c9daf8">
	<td>0xFFFF</td>
	<td>SIMIF</td>
	<td>CMD_PAR</td>
      </tr>
      <tr bgcolor="ead1dc">
	<td>0xFFF0</td>
	<td>BRD_CTRL</td>
	<td>OUT</td>
      </tr>
      <tr bgcolor="fce5cd">
	<td>0xFF5F</td>
	<td>CLOCK</td>
	<td>BCNT15</td>
      </tr>
      <tr  bgcolor="fce5cd">
	<td>…</td>
	<td>CLOCK</td>
	<td>BCNT…</td>
      </tr>
      <tr  bgcolor="fce5cd">
	<td>0xFF52</td>
	<td>CLOCK</td>
	<td>BCNT2</td>
      </tr>
      <tr  bgcolor="fce5cd">
	<td>0xFF51</td>
	<td>CLOCK</td>
	<td>PRE</td>
      </tr>
      <tr  bgcolor="fce5cd">
	<td>0xFF50</td>
	<td>CLOCK</td>
	<td>CLOCK</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF4F</td>
	<td>UART</td>
	<td>SREG3</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF4E</td>
	<td>UART</td>
	<td>SREG2</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF4D</td>
	<td>UART</td>
	<td>SREG1</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF4C</td>
	<td>UART</td>
	<td>SREG0</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF44</td>
	<td>UART</td>
	<td>CPB</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF43</td>
	<td>UART</td>
	<td>TSTAT</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF42</td>
	<td>UART</td>
	<td>RSTAT</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF41</td>
	<td>UART</td>
	<td>CTRL</td>
      </tr>
      <tr  bgcolor="f9cb9c">
	<td>0xFF40</td>
	<td>UART</td>
	<td>DR</td>
      </tr>
      <tr  bgcolor="b7b7b7">
	<td>0xFF33</td>
	<td>TIMER</td>
	<td>STAT</td>
      </tr>
      <tr  bgcolor="b7b7b7">
	<td>0xFF32</td>
	<td>TIMER</td>
	<td>CNTR</td>
      </tr>
      <tr  bgcolor="b7b7b7">
	<td>0xFF31</td>
	<td>TIMER</td>
	<td>AR</td>
      </tr>
      <tr  bgcolor="b7b7b7">
	<td>0xFF30</td>
	<td>TIMER</td>
	<td>CTRL</td>
      </tr>
      <tr  bgcolor="b6d7a8">
	<td>0xFF20</td>
	<td>GPIOI</td>
	<td>IDR</td>
      </tr>
      <tr  bgcolor="ffe599">
	<td>0xFF10</td>
	<td>GPIOJ</td>
	<td>IDR</td>
      </tr>
      <tr  bgcolor="ead1dc">
	<td>0xFF03</td>
	<td>GPIOD</td>
	<td>ODR</td>
      </tr>
      <tr  bgcolor="ead1dc">
	<td>0xFF02</td>
	<td>GPIOC</td>
	<td>ODR</td>
      </tr>
      <tr  bgcolor="ead1dc">
	<td>0xFF01</td>
	<td>GPIOB</td>
	<td>ODR</td>
      </tr>
      <tr  bgcolor="ead1dc">
	<td>0xFF00</td>
	<td>GPIOA</td>
	<td>ODR</td>
      </tr>
    </table>
    
    
    <a name="nexys4ddr"><h1>
	<span lang="hu">Megvalósítás a Nexys4DDR kártyával</span>
	<span lang="en">Implementation on Nexys4DDR board</span>
    </h1></a>
    
    <p>
      <span lang="hu">A kártya dokumentációja elérhető
	a <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_nexys4ddr">http://mazsola.iit.uni-miskolc.hu/d/fpga_nexys4ddr</a>
	címen.</span>

      <span lang="en">The board's documentation is available
      at <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_nexys4ddr">http://mazsola.iit.uni-miskolc.hu/d/fpga_nexys4ddr</a>.</span>
    </p>
    
    <p>
      <span lang="hu">A kártya egy CPU RESET gombot, valamint 5
      nyomógombot és 16 kapcsolót tartalmaz, a kimeneti jeleket 16
      LED-en és egy 8 digites hétszegmenses kijelzőn lehet
      megjeleníteni.</span>

      <span lang="en">The board contains a CPU RESET button, 5
      pushbuttons and 16 switches, the output signals can be displayed
      on 16 LEDs and an 8-digit seven-segment display.</span>
    </p>
    
    <p>
      <span lang="hu">A számítógép órajele 25 MHz.</span>

      <span lang="en">The computer's clock speed is 25 MHz.</span>
    </p>
    
    <h2>
      <span lang="hu">Nexys4DDR bemenetek</span>
      <span lang="en">Nexys4DDR inputs</span>
    </h2>
    
    <p>
      <span lang="hu">A kapcsolók és nyomógombok
	pergésmentesítettek.</span>
      
      <span lang="en">The switches and pushbuttons are
      debounced.</span>
    </p>
    
    <table border=1>
      <tr>
	<th><span lang="hu">Kapcsoló/nyomógomb</span>
	<span lang="en">Switch/pushbutton</span></th>
	<th><span lang="hu">Számítógép port</span><span lang="en">Computer port</span></th>
      </tr>
      <tr>
	<td>BTNC</td>
	<td>PORTI[0]</td>
      </tr>
      <tr>
	<td>BTND</td>
	<td>PORTI[1]</td>
      </tr>
      <tr>
	<td>BTNU</td>
	<td>PORTI[2]</td>
      </tr>
      <tr>
	<td>BTNR</td>
	<td>PORTI[3]</td>
      </tr>
      <tr>
	<td>BTNL</td>
	<td>PORTI[4]</td>
      </tr>
      <tr>
	<td>SW[15:0]</td>
	<td>PORTJ[15:0]</td>
      </tr>
    </table>
    
    <p>
      <span lang="hu">A PORTI és PORTJ fel nem használt bitjeire 0 van
      bekötve.</span>

      <span lang="en">The unused bits of PORTI and PORTJ are set to
      0.</span>
    </p>
    
    <p>
      <span lang="hu">A kártya CPU RESET feliratú nyomógombját
	használhatjuk a számítógép alapállapotba állítására.</span>

      <span lang="en">The CPU RESET button on the baord can be used to
      reset the computer.</span>
    </p>
    
    <h2>
      <span lang="hu">Nexys4DDR kimenetek</span>
      <span lang="en">Nexys4DDR outputs</span>
    </h2>
    
    <p>
      <span lang="hu">A számítógép PORTB[15:0] kimenetei a kártya 16
	LED-jére vannak bekötve.</span>

      <span lang="en">The computer's PORTB[15:0] outputs are connected
      to the 16 LEDs on the baord.</span>
    </p>
    
    <h2>
      <span lang="hu">Nexys4DDR memória</span>
      <span lang="en">Nexys4DDR memory</span>
    </h2>
    
    <p>
      <span lang="hu">A számítógépben 128 kszó memória van, a memória
      térkép megegyezik a
      <a href="#mem_map">címdekóder fejezetben</a> ismertetett
      térképpel.</span>

      <span lang="en">The computer has 128 kwords of memory, the
      memory map is the same as the map described in
      the <a href="#mem_map">address decoder chapter</a>.</span>
    </p>
    
    
    <a name="boolean"><h1>
	<span lang="hu">Megvalósítás a Boolean kártyával</span>
	<span lang="hu">Implementation on Boolean board</span>
    </h1></a>
    
    <p>
      <span lang="hu">A kártya dokumentációja elérhető
	a <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_boolean">http://mazsola.iit.uni-miskolc.hu/d/fpga_boolean</a>
	címen.</span>

      <span lang="en">The board documentation is available
      at <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_boolean">http://mazsola.iit.uni-miskolc.hu/d/fpga_boolean</a>.</span>
    </p>
    
    <p>
      <span lang="hu">A kártya 4 nyomógombot, 16 kapcsolót, valamint
	16 LED-et és egy 8 digites hét szegmenses kijelzőt
	tartalmaz.</span>

      <span lang="en">The board contains 4 pushbuttons, 16 switches,
      and 16 LEDs and an 8-digit seven-segment display.</span>
    </p>
    
    <p>
      <span lang="hu">A számítógép órajele 25 MHz.</span>

      <span lang="en">The computer's clock speed is 25 MHz.</span>
    </p>
    
    <p>
      <span lang="hu">A kapcsolók, LED-ek és a hétszegmenses kijelző
      bekötése megegyezik a Nexy4DDR kártyán megvalósított
      áramkörével. A nyomógombok és kapcsolók
      pergésmentesítettek.</span>

      <span lang="en">The connections of the switches, LEDs and the
      seven-segment display are the same as those implemented on the
      Nexy4DDR board. The pushbuttons and switches are
      debounced.</span>
    </p>
    
    <h2>
      <span lang="hu">Boolean bemenetek</span>
      <span lang="en">Boolean inputs</span>
    </h2>
    
    <p>
      <span lang="hu">A kártya 16 kapcsolóval és 4 nyomógombbal
      rendelkezik, mivel azonban a CPU RESET számára nincs rajta
      dedikált nyomógomb, ezért a fent említett <a href="#reset">2
      nyomógombos módszer</a> használható a CPU újraindítására.</span>

      <span lang="en">The board has 16 switches and 4 pushbuttons,
      however, since there is no dedicated pushbutton for CPU RESET,
      the <a href="#reset">2 pushbutton method</a> mentioned above can
      be used to reset the CPU.</span>
    </p>
    
    <table border=1>
      <tr>
	<th><span lang="hu">Nyomógomb/kapcsoló</span><span lang="en">Switch/pushbutton</span></th>
	<th><span lang="hu">Számítógép port</span><span lang="en">Computer port</span></th>
      </tr>
      <tr>
	<td>SW[15:0]</td>
	<td>PORTJ[15:0]</td>
      </tr>
      <tr>
	<td>BTN[3:0]</td>
	<td>PORTI[3:0]</td>
      </tr>
    </table>
    
    <h2>
      <span lang="hu">Boolean kimenetek</span>
      <span lang="en">Boolean outputs</span>
    </h2>
    
    <p>
      <span lang="hu">A számítógép PORTB[15:0] kimenetei a kártya 16
	LED-jére vannak bekötve.</span>

      <span lang="en">The computer's PORTB[15:0] outputs are connected
      to the 16 LEDs on the board.</span>
    </p>
    
    <h2>
      <span lang="hu">Boolean memória</span>
      <span lang="en">Boolean memory</span>
    </h2>
    
    <p>
      <span lang="hu">A számítógépben 64 kszó memória található, amely
      a 0-0xFFFF címeken érhető el. A <a href="#mem_map">címdekóder
      fejezetben</a> látható térképhez képest az a különbség, hogy a
      0x10000-0x1FFFF címeken nincs beépített memória.</span>

      <span lang="en">The computer has 64 kwords of memory, which is
      accessible at addresses 0-0xFFFF. The difference compared to the
      map shown in the <a href="#mem_map">address decoder chapter</a>
      is that there is no built-in memory at addresses
      0x10000-0x1FFFF.</span>
    </p>
    
    
    <a name="logsys"><h1>
	<span lang="hu">Megvalósítás a LogSys kártyával</span>
	<span lang="en">Implementation on LogSys board</span>
    </h1></a>
    
    <p>
      <span lang="hu">A kártya dokumentációja elérhető
	a <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_logsys">http://mazsola.iit.uni-miskolc.hu/d/fpga_logsys</a>
	címen.</span>

      <span lang="en">The card documentation is available
      at <a href="http://mazsola.iit.uni-miskolc.hu/d/fpga_logsys">http://mazsola.iit.uni-miskolc.hu/d/fpga_logsys</a>
      .</span>
    </p>
    
    <p>
      <span lang="hu">A kártya egy RST, valamint négy általános
      nyomógombot és 8 kapcsolót tartalmaz. A kimeneti eszközök nyolc
      darab 3 színű LED és egy négy digites hétszegmenses
      kijelző.</span>

      <span lang="en">The board contains an RST, four general
      pushbuttons and 8 switches. The output devices are eight 3-color
      LEDs and a four-digit seven-segment display.</span>
    </p>
    
    <p>
      <span lang="hu">A számítógép órajele 25 MHz.</span>

      <span lang="en">The computer's clock speed is 25 MHz.</span>
    </p>
    
    <h2>
      <span lang="hu">LogSys bemenetek</span>
      <span lang="en">LogSys inputs</span>
    </h2>
    
    <p>
      <span lang="hu">A nyomógombok és kapcsolók pergésmentesítettek.</span>

      <span lang="en">The buttons and switches are debounced.</span>
    </p>
    
    <p>
      <span lang="hu">A számítógép az RST nyomógombbal állítható
      alaphelyzetbe.</span>

      <span lang="en">The computer can be reset using the RST
      button.</span>
    </p>
    
    <table border=1>
      <tr>
	<th><span lang="hu">Nyomógomb/kapcsoló</span><span lang="en">Switch/pushbutton</span></th>
	<th><span lang="hu">Számítógép port</span><span lang="en">Computer port</span></th>
      </tr>
      <tr>
	<td>SW[7:0]</td>
	<td>PORTJ[7:0]</td>
      </tr>
      <tr>
	<td>BTN[[0]</td>
	<td>PORTI[3:0]</td>
      </tr>
    </table>
    
    <h2>
      <span lang="hu">LogSys kimenetek</span>
      <span lang="en">LogSys outputs</span>
    </h2>
    
    <p>
      <span lang="hu">Az LD0..LD7 LED-ek mindegyike három színű,
      vagyis egy zöld, egy kék és egy piros LED-et is tartalmaz. A
      számítógép PORTB[23:0] kimenetei segítségével működtethetők a
      LED-ek:</span>

      <span lang="en">The LEDs LD0..LD7 each have three colors, that
      is, a green, a blue and a red LED.  The LEDs can be operated
      using the computer's PORTB[23:0] outputs:</span>
    </p>
    
    <table border=1>
      <tr>
	<th><span lang="hu">Számítógép port</span><span lang="en">Computer port</span></th>
	<th>LED</th>
      </tr>
      <tr>
	<td>PORTB[7:0]</td>
	<td><span lang="hu">ZÖLD7 .. ZÖLD0</span><span lang="en">GREEN7 .. GREEN0</span></td>
      </tr>
      <tr>
	<td>PORTB[15:8]</td>
	<td><span lang="hu">PIROS7 .. PIROS0</span><span lang="en">RED7 .. RED0</span></td>
      </tr>
      <tr>
	<td>PORTB[23:16]</td>
	<td><span lang="hu">KÉK7 .. KÉK0</span><span lang="en">BLUE7 .. BLUE0</span></td>
      </tr>
    </table>
    
    <p>
      <span lang="hu">A hétszegmenses kijelzőn megjelenő érték a
      SW[7:4] kapcsolókon beállított 4 bites bináris kód segítségével
      választható ki. Mivel a kijelző csak 4 digites, ezért a
      kiválasztott adatnak csak az alsó 16 bitje jelenik meg. Szegmens
      mód esetén (SW[7:4]==10), a PORTC kimenetek határozzák meg a
      kijelző 32 LEDjének az állapotát, a PORTD kimenetek nincsenek
      hatással a kijelzőre.</span>

      <span lang="en">The value displayed on the seven-segment display
      can be selected using the 4-bit binary code set on the SW[7:4]
      switches. Since the display is only 4 digits, only the lower 16
      bits of the selected data are displayed. In segment mode
      (SW[7:4]==10), the PORTC outputs determine the state of the 32
      LEDs of the display, the PORTD outputs have no effect on the
      display.</span>
    </p>
    
    <h2>
      <span lang="hu">LogSys memória</span>
      <span lang="en">LogSys memory</span>
    </h2>
    
    <p>
      <span lang="hu">A számítógépben 128 kszó memória van, a memória
      térkép megegyezik a
      <a href="#mem_map">címdekóder fejezetben</a> ismertetett
      térképpel.</span>

      <span lang="en">The computer has 128 kwords of memory, the
      memory map is the same as the map described in
      the <a href="#mem_map">address decoder chapter</a>.</span>
    </p>
    
    <hr>
    
  </body>
</html>
